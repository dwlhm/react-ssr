{"version":3,"file":"index.development.js","sources":["../../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js","../../../../node_modules/.pnpm/history@5.3.0/node_modules/history/index.js","../../../../node_modules/.pnpm/tiny-invariant@1.3.1/node_modules/tiny-invariant/dist/esm/tiny-invariant.js","../../src/utils.ts","../../src/path.ts","../../src/qss.ts","../../../../node_modules/.pnpm/@solidjs+reactivity@0.0.6/node_modules/@solidjs/reactivity/dist/index.js","../../src/route.ts","../../src/routeConfig.ts","../../src/sharedClone.ts","../../src/routeMatch.ts","../../src/searchParams.ts","../../src/router.ts"],"sourcesContent":["export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","import _extends from '@babel/runtime/helpers/esm/extends';\n\n/**\r\n * Actions represent the type of change to a location value.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#action\r\n */\nvar Action;\n\n(function (Action) {\n  /**\r\n   * A POP indicates a change to an arbitrary index in the history stack, such\r\n   * as a back or forward navigation. It does not describe the direction of the\r\n   * navigation, only that the current index changed.\r\n   *\r\n   * Note: This is the default action for newly created history objects.\r\n   */\n  Action[\"Pop\"] = \"POP\";\n  /**\r\n   * A PUSH indicates a new entry being added to the history stack, such as when\r\n   * a link is clicked and a new page loads. When this happens, all subsequent\r\n   * entries in the stack are lost.\r\n   */\n\n  Action[\"Push\"] = \"PUSH\";\n  /**\r\n   * A REPLACE indicates the entry at the current index in the history stack\r\n   * being replaced by a new one.\r\n   */\n\n  Action[\"Replace\"] = \"REPLACE\";\n})(Action || (Action = {}));\n\nvar readOnly = process.env.NODE_ENV !== \"production\" ? function (obj) {\n  return Object.freeze(obj);\n} : function (obj) {\n  return obj;\n};\n\nfunction warning(cond, message) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== 'undefined') console.warn(message);\n\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message); // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\nvar BeforeUnloadEventType = 'beforeunload';\nvar HashChangeEventType = 'hashchange';\nvar PopStateEventType = 'popstate';\n/**\r\n * Browser history stores the location in regular URLs. This is the standard for\r\n * most web apps, but it requires some configuration on the server to ensure you\r\n * serve the same app at multiple URLs.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\r\n */\n\nfunction createBrowserHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$window = _options.window,\n      window = _options$window === void 0 ? document.defaultView : _options$window;\n  var globalHistory = window.history;\n\n  function getIndexAndLocation() {\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var state = globalHistory.state || {};\n    return [state.idx, readOnly({\n      pathname: pathname,\n      search: search,\n      hash: hash,\n      state: state.usr || null,\n      key: state.key || 'default'\n    })];\n  }\n\n  var blockedPopTx = null;\n\n  function handlePop() {\n    if (blockedPopTx) {\n      blockers.call(blockedPopTx);\n      blockedPopTx = null;\n    } else {\n      var nextAction = Action.Pop;\n\n      var _getIndexAndLocation = getIndexAndLocation(),\n          nextIndex = _getIndexAndLocation[0],\n          nextLocation = _getIndexAndLocation[1];\n\n      if (blockers.length) {\n        if (nextIndex != null) {\n          var delta = index - nextIndex;\n\n          if (delta) {\n            // Revert the POP\n            blockedPopTx = {\n              action: nextAction,\n              location: nextLocation,\n              retry: function retry() {\n                go(delta * -1);\n              }\n            };\n            go(delta);\n          }\n        } else {\n          // Trying to POP to a location with no index. We did not create\n          // this location, so we can't effectively block the navigation.\n          process.env.NODE_ENV !== \"production\" ? warning(false, // TODO: Write up a doc that explains our blocking strategy in\n          // detail and link to it here so people can understand better what\n          // is going on and how to avoid it.\n          \"You are trying to block a POP navigation to a location that was not \" + \"created by the history library. The block will fail silently in \" + \"production, but in general you should do all navigation with the \" + \"history library (instead of using window.history.pushState directly) \" + \"to avoid this situation.\") : void 0;\n        }\n      } else {\n        applyTx(nextAction);\n      }\n    }\n  }\n\n  window.addEventListener(PopStateEventType, handlePop);\n  var action = Action.Pop;\n\n  var _getIndexAndLocation2 = getIndexAndLocation(),\n      index = _getIndexAndLocation2[0],\n      location = _getIndexAndLocation2[1];\n\n  var listeners = createEvents();\n  var blockers = createEvents();\n\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState(_extends({}, globalHistory.state, {\n      idx: index\n    }), '');\n  }\n\n  function createHref(to) {\n    return typeof to === 'string' ? to : createPath(to);\n  } // state defaults to `null` because `window.history.state` does\n\n\n  function getNextLocation(to, state) {\n    if (state === void 0) {\n      state = null;\n    }\n\n    return readOnly(_extends({\n      pathname: location.pathname,\n      hash: '',\n      search: ''\n    }, typeof to === 'string' ? parsePath(to) : to, {\n      state: state,\n      key: createKey()\n    }));\n  }\n\n  function getHistoryStateAndUrl(nextLocation, index) {\n    return [{\n      usr: nextLocation.state,\n      key: nextLocation.key,\n      idx: index\n    }, createHref(nextLocation)];\n  }\n\n  function allowTx(action, location, retry) {\n    return !blockers.length || (blockers.call({\n      action: action,\n      location: location,\n      retry: retry\n    }), false);\n  }\n\n  function applyTx(nextAction) {\n    action = nextAction;\n\n    var _getIndexAndLocation3 = getIndexAndLocation();\n\n    index = _getIndexAndLocation3[0];\n    location = _getIndexAndLocation3[1];\n    listeners.call({\n      action: action,\n      location: location\n    });\n  }\n\n  function push(to, state) {\n    var nextAction = Action.Push;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      push(to, state);\n    }\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      var _getHistoryStateAndUr = getHistoryStateAndUrl(nextLocation, index + 1),\n          historyState = _getHistoryStateAndUr[0],\n          url = _getHistoryStateAndUr[1]; // TODO: Support forced reloading\n      // try...catch because iOS limits us to 100 pushState calls :/\n\n\n      try {\n        globalHistory.pushState(historyState, '', url);\n      } catch (error) {\n        // They are going to lose state here, but there is no real\n        // way to warn them about it since the page will refresh...\n        window.location.assign(url);\n      }\n\n      applyTx(nextAction);\n    }\n  }\n\n  function replace(to, state) {\n    var nextAction = Action.Replace;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      replace(to, state);\n    }\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      var _getHistoryStateAndUr2 = getHistoryStateAndUrl(nextLocation, index),\n          historyState = _getHistoryStateAndUr2[0],\n          url = _getHistoryStateAndUr2[1]; // TODO: Support forced reloading\n\n\n      globalHistory.replaceState(historyState, '', url);\n      applyTx(nextAction);\n    }\n  }\n\n  function go(delta) {\n    globalHistory.go(delta);\n  }\n\n  var history = {\n    get action() {\n      return action;\n    },\n\n    get location() {\n      return location;\n    },\n\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    back: function back() {\n      go(-1);\n    },\n    forward: function forward() {\n      go(1);\n    },\n    listen: function listen(listener) {\n      return listeners.push(listener);\n    },\n    block: function block(blocker) {\n      var unblock = blockers.push(blocker);\n\n      if (blockers.length === 1) {\n        window.addEventListener(BeforeUnloadEventType, promptBeforeUnload);\n      }\n\n      return function () {\n        unblock(); // Remove the beforeunload listener so the document may\n        // still be salvageable in the pagehide event.\n        // See https://html.spec.whatwg.org/#unloading-documents\n\n        if (!blockers.length) {\n          window.removeEventListener(BeforeUnloadEventType, promptBeforeUnload);\n        }\n      };\n    }\n  };\n  return history;\n}\n/**\r\n * Hash history stores the location in window.location.hash. This makes it ideal\r\n * for situations where you don't want to send the location to the server for\r\n * some reason, either because you do cannot configure it or the URL space is\r\n * reserved for something else.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\r\n */\n\nfunction createHashHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options2 = options,\n      _options2$window = _options2.window,\n      window = _options2$window === void 0 ? document.defaultView : _options2$window;\n  var globalHistory = window.history;\n\n  function getIndexAndLocation() {\n    var _parsePath = parsePath(window.location.hash.substr(1)),\n        _parsePath$pathname = _parsePath.pathname,\n        pathname = _parsePath$pathname === void 0 ? '/' : _parsePath$pathname,\n        _parsePath$search = _parsePath.search,\n        search = _parsePath$search === void 0 ? '' : _parsePath$search,\n        _parsePath$hash = _parsePath.hash,\n        hash = _parsePath$hash === void 0 ? '' : _parsePath$hash;\n\n    var state = globalHistory.state || {};\n    return [state.idx, readOnly({\n      pathname: pathname,\n      search: search,\n      hash: hash,\n      state: state.usr || null,\n      key: state.key || 'default'\n    })];\n  }\n\n  var blockedPopTx = null;\n\n  function handlePop() {\n    if (blockedPopTx) {\n      blockers.call(blockedPopTx);\n      blockedPopTx = null;\n    } else {\n      var nextAction = Action.Pop;\n\n      var _getIndexAndLocation4 = getIndexAndLocation(),\n          nextIndex = _getIndexAndLocation4[0],\n          nextLocation = _getIndexAndLocation4[1];\n\n      if (blockers.length) {\n        if (nextIndex != null) {\n          var delta = index - nextIndex;\n\n          if (delta) {\n            // Revert the POP\n            blockedPopTx = {\n              action: nextAction,\n              location: nextLocation,\n              retry: function retry() {\n                go(delta * -1);\n              }\n            };\n            go(delta);\n          }\n        } else {\n          // Trying to POP to a location with no index. We did not create\n          // this location, so we can't effectively block the navigation.\n          process.env.NODE_ENV !== \"production\" ? warning(false, // TODO: Write up a doc that explains our blocking strategy in\n          // detail and link to it here so people can understand better\n          // what is going on and how to avoid it.\n          \"You are trying to block a POP navigation to a location that was not \" + \"created by the history library. The block will fail silently in \" + \"production, but in general you should do all navigation with the \" + \"history library (instead of using window.history.pushState directly) \" + \"to avoid this situation.\") : void 0;\n        }\n      } else {\n        applyTx(nextAction);\n      }\n    }\n  }\n\n  window.addEventListener(PopStateEventType, handlePop); // popstate does not fire on hashchange in IE 11 and old (trident) Edge\n  // https://developer.mozilla.org/de/docs/Web/API/Window/popstate_event\n\n  window.addEventListener(HashChangeEventType, function () {\n    var _getIndexAndLocation5 = getIndexAndLocation(),\n        nextLocation = _getIndexAndLocation5[1]; // Ignore extraneous hashchange events.\n\n\n    if (createPath(nextLocation) !== createPath(location)) {\n      handlePop();\n    }\n  });\n  var action = Action.Pop;\n\n  var _getIndexAndLocation6 = getIndexAndLocation(),\n      index = _getIndexAndLocation6[0],\n      location = _getIndexAndLocation6[1];\n\n  var listeners = createEvents();\n  var blockers = createEvents();\n\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState(_extends({}, globalHistory.state, {\n      idx: index\n    }), '');\n  }\n\n  function getBaseHref() {\n    var base = document.querySelector('base');\n    var href = '';\n\n    if (base && base.getAttribute('href')) {\n      var url = window.location.href;\n      var hashIndex = url.indexOf('#');\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n\n    return href;\n  }\n\n  function createHref(to) {\n    return getBaseHref() + '#' + (typeof to === 'string' ? to : createPath(to));\n  }\n\n  function getNextLocation(to, state) {\n    if (state === void 0) {\n      state = null;\n    }\n\n    return readOnly(_extends({\n      pathname: location.pathname,\n      hash: '',\n      search: ''\n    }, typeof to === 'string' ? parsePath(to) : to, {\n      state: state,\n      key: createKey()\n    }));\n  }\n\n  function getHistoryStateAndUrl(nextLocation, index) {\n    return [{\n      usr: nextLocation.state,\n      key: nextLocation.key,\n      idx: index\n    }, createHref(nextLocation)];\n  }\n\n  function allowTx(action, location, retry) {\n    return !blockers.length || (blockers.call({\n      action: action,\n      location: location,\n      retry: retry\n    }), false);\n  }\n\n  function applyTx(nextAction) {\n    action = nextAction;\n\n    var _getIndexAndLocation7 = getIndexAndLocation();\n\n    index = _getIndexAndLocation7[0];\n    location = _getIndexAndLocation7[1];\n    listeners.call({\n      action: action,\n      location: location\n    });\n  }\n\n  function push(to, state) {\n    var nextAction = Action.Push;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      push(to, state);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(nextLocation.pathname.charAt(0) === '/', \"Relative pathnames are not supported in hash history.push(\" + JSON.stringify(to) + \")\") : void 0;\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      var _getHistoryStateAndUr3 = getHistoryStateAndUrl(nextLocation, index + 1),\n          historyState = _getHistoryStateAndUr3[0],\n          url = _getHistoryStateAndUr3[1]; // TODO: Support forced reloading\n      // try...catch because iOS limits us to 100 pushState calls :/\n\n\n      try {\n        globalHistory.pushState(historyState, '', url);\n      } catch (error) {\n        // They are going to lose state here, but there is no real\n        // way to warn them about it since the page will refresh...\n        window.location.assign(url);\n      }\n\n      applyTx(nextAction);\n    }\n  }\n\n  function replace(to, state) {\n    var nextAction = Action.Replace;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      replace(to, state);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(nextLocation.pathname.charAt(0) === '/', \"Relative pathnames are not supported in hash history.replace(\" + JSON.stringify(to) + \")\") : void 0;\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      var _getHistoryStateAndUr4 = getHistoryStateAndUrl(nextLocation, index),\n          historyState = _getHistoryStateAndUr4[0],\n          url = _getHistoryStateAndUr4[1]; // TODO: Support forced reloading\n\n\n      globalHistory.replaceState(historyState, '', url);\n      applyTx(nextAction);\n    }\n  }\n\n  function go(delta) {\n    globalHistory.go(delta);\n  }\n\n  var history = {\n    get action() {\n      return action;\n    },\n\n    get location() {\n      return location;\n    },\n\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    back: function back() {\n      go(-1);\n    },\n    forward: function forward() {\n      go(1);\n    },\n    listen: function listen(listener) {\n      return listeners.push(listener);\n    },\n    block: function block(blocker) {\n      var unblock = blockers.push(blocker);\n\n      if (blockers.length === 1) {\n        window.addEventListener(BeforeUnloadEventType, promptBeforeUnload);\n      }\n\n      return function () {\n        unblock(); // Remove the beforeunload listener so the document may\n        // still be salvageable in the pagehide event.\n        // See https://html.spec.whatwg.org/#unloading-documents\n\n        if (!blockers.length) {\n          window.removeEventListener(BeforeUnloadEventType, promptBeforeUnload);\n        }\n      };\n    }\n  };\n  return history;\n}\n/**\r\n * Memory history stores the current location in memory. It is designed for use\r\n * in stateful non-browser environments like tests and React Native.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#creatememoryhistory\r\n */\n\nfunction createMemoryHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options3 = options,\n      _options3$initialEntr = _options3.initialEntries,\n      initialEntries = _options3$initialEntr === void 0 ? ['/'] : _options3$initialEntr,\n      initialIndex = _options3.initialIndex;\n  var entries = initialEntries.map(function (entry) {\n    var location = readOnly(_extends({\n      pathname: '/',\n      search: '',\n      hash: '',\n      state: null,\n      key: createKey()\n    }, typeof entry === 'string' ? parsePath(entry) : entry));\n    process.env.NODE_ENV !== \"production\" ? warning(location.pathname.charAt(0) === '/', \"Relative pathnames are not supported in createMemoryHistory({ initialEntries }) (invalid entry: \" + JSON.stringify(entry) + \")\") : void 0;\n    return location;\n  });\n  var index = clamp(initialIndex == null ? entries.length - 1 : initialIndex, 0, entries.length - 1);\n  var action = Action.Pop;\n  var location = entries[index];\n  var listeners = createEvents();\n  var blockers = createEvents();\n\n  function createHref(to) {\n    return typeof to === 'string' ? to : createPath(to);\n  }\n\n  function getNextLocation(to, state) {\n    if (state === void 0) {\n      state = null;\n    }\n\n    return readOnly(_extends({\n      pathname: location.pathname,\n      search: '',\n      hash: ''\n    }, typeof to === 'string' ? parsePath(to) : to, {\n      state: state,\n      key: createKey()\n    }));\n  }\n\n  function allowTx(action, location, retry) {\n    return !blockers.length || (blockers.call({\n      action: action,\n      location: location,\n      retry: retry\n    }), false);\n  }\n\n  function applyTx(nextAction, nextLocation) {\n    action = nextAction;\n    location = nextLocation;\n    listeners.call({\n      action: action,\n      location: location\n    });\n  }\n\n  function push(to, state) {\n    var nextAction = Action.Push;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      push(to, state);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(location.pathname.charAt(0) === '/', \"Relative pathnames are not supported in memory history.push(\" + JSON.stringify(to) + \")\") : void 0;\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      applyTx(nextAction, nextLocation);\n    }\n  }\n\n  function replace(to, state) {\n    var nextAction = Action.Replace;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      replace(to, state);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(location.pathname.charAt(0) === '/', \"Relative pathnames are not supported in memory history.replace(\" + JSON.stringify(to) + \")\") : void 0;\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      entries[index] = nextLocation;\n      applyTx(nextAction, nextLocation);\n    }\n  }\n\n  function go(delta) {\n    var nextIndex = clamp(index + delta, 0, entries.length - 1);\n    var nextAction = Action.Pop;\n    var nextLocation = entries[nextIndex];\n\n    function retry() {\n      go(delta);\n    }\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      index = nextIndex;\n      applyTx(nextAction, nextLocation);\n    }\n  }\n\n  var history = {\n    get index() {\n      return index;\n    },\n\n    get action() {\n      return action;\n    },\n\n    get location() {\n      return location;\n    },\n\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    back: function back() {\n      go(-1);\n    },\n    forward: function forward() {\n      go(1);\n    },\n    listen: function listen(listener) {\n      return listeners.push(listener);\n    },\n    block: function block(blocker) {\n      return blockers.push(blocker);\n    }\n  };\n  return history;\n} ////////////////////////////////////////////////////////////////////////////////\n// UTILS\n////////////////////////////////////////////////////////////////////////////////\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n\nfunction promptBeforeUnload(event) {\n  // Cancel the event.\n  event.preventDefault(); // Chrome (and legacy IE) requires returnValue to be set.\n\n  event.returnValue = '';\n}\n\nfunction createEvents() {\n  var handlers = [];\n  return {\n    get length() {\n      return handlers.length;\n    },\n\n    push: function push(fn) {\n      handlers.push(fn);\n      return function () {\n        handlers = handlers.filter(function (handler) {\n          return handler !== fn;\n        });\n      };\n    },\n    call: function call(arg) {\n      handlers.forEach(function (fn) {\n        return fn && fn(arg);\n      });\n    }\n  };\n}\n\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n/**\r\n * Creates a string URL path from the given pathname, search, and hash components.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createpath\r\n */\n\n\nfunction createPath(_ref) {\n  var _ref$pathname = _ref.pathname,\n      pathname = _ref$pathname === void 0 ? '/' : _ref$pathname,\n      _ref$search = _ref.search,\n      search = _ref$search === void 0 ? '' : _ref$search,\n      _ref$hash = _ref.hash,\n      hash = _ref$hash === void 0 ? '' : _ref$hash;\n  if (search && search !== '?') pathname += search.charAt(0) === '?' ? search : '?' + search;\n  if (hash && hash !== '#') pathname += hash.charAt(0) === '#' ? hash : '#' + hash;\n  return pathname;\n}\n/**\r\n * Parses a string URL path into its separate pathname, search, and hash components.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#parsepath\r\n */\n\nfunction parsePath(path) {\n  var parsedPath = {};\n\n  if (path) {\n    var hashIndex = path.indexOf('#');\n\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n\n    var searchIndex = path.indexOf('?');\n\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n\n  return parsedPath;\n}\n\nexport { Action, createBrowserHistory, createHashHistory, createMemoryHistory, createPath, parsePath };\n//# sourceMappingURL=index.js.map\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nexport { invariant as default };\n","export type NoInfer<T> = [T][T extends any ? 0 : never]\nexport type IsAny<T, Y, N> = 1 extends 0 & T ? Y : N\nexport type IsAnyBoolean<T> = 1 extends 0 & T ? true : false\nexport type IsKnown<T, Y, N> = unknown extends T ? N : Y\nexport type PickAsRequired<T, K extends keyof T> = Omit<T, K> &\n  Required<Pick<T, K>>\nexport type PickAsPartial<T, K extends keyof T> = Omit<T, K> &\n  Partial<Pick<T, K>>\nexport type PickUnsafe<T, K> = K extends keyof T ? Pick<T, K> : never\nexport type PickExtra<T, K> = Expand<{\n  [TKey in keyof K as string extends TKey\n    ? never\n    : TKey extends keyof T\n    ? never\n    : TKey]: K[TKey]\n}>\nexport type PickRequired<T> = {\n  [K in keyof T as undefined extends T[K] ? never : K]: T[K]\n}\n\nexport type Expand<T> = T extends object\n  ? T extends infer O\n    ? { [K in keyof O]: O[K] }\n    : never\n  : T\n\nexport type UnionToIntersection<U> = (\n  U extends any ? (k: U) => void : never\n) extends (k: infer I) => any\n  ? I\n  : never\n\nexport type Values<O> = O[ValueKeys<O>]\nexport type ValueKeys<O> = Extract<keyof O, PropertyKey>\n\nexport type DeepAwaited<T> = T extends Promise<infer A>\n  ? DeepAwaited<A>\n  : T extends Record<infer A, Promise<infer B>>\n  ? { [K in A]: DeepAwaited<B> }\n  : T\n\nexport type PathParamMask<TRoutePath extends string> =\n  TRoutePath extends `${infer L}/$${infer C}/${infer R}`\n    ? PathParamMask<`${L}/${string}/${R}`>\n    : TRoutePath extends `${infer L}/$${infer C}`\n    ? PathParamMask<`${L}/${string}`>\n    : TRoutePath\n\nexport type Timeout = ReturnType<typeof setTimeout>\n\nexport type Updater<TPrevious, TResult = TPrevious> =\n  | TResult\n  | ((prev?: TPrevious) => TResult)\n\nexport type PickExtract<T, U> = {\n  [K in keyof T as T[K] extends U ? K : never]: T[K]\n}\n\nexport type PickExclude<T, U> = {\n  [K in keyof T as T[K] extends U ? never : K]: T[K]\n}\n\nexport function last<T>(arr: T[]) {\n  return arr[arr.length - 1]\n}\n\nexport function warning(cond: any, message: string): cond is true {\n  if (cond) {\n    if (typeof console !== 'undefined') console.warn(message)\n\n    try {\n      throw new Error(message)\n    } catch {}\n  }\n\n  return true\n}\n\nfunction isFunction(d: any): d is Function {\n  return typeof d === 'function'\n}\n\nexport function functionalUpdate<TResult>(\n  updater: Updater<TResult>,\n  previous: TResult,\n) {\n  if (isFunction(updater)) {\n    return updater(previous as TResult)\n  }\n\n  return updater\n}\n\nexport function pick<T, K extends keyof T>(parent: T, keys: K[]): Pick<T, K> {\n  return keys.reduce((obj: any, key: K) => {\n    obj[key] = parent[key]\n    return obj\n  }, {} as any)\n}\n","import invariant from 'tiny-invariant'\nimport { AnyPathParams } from './routeConfig'\nimport { MatchLocation } from './router'\nimport { last } from './utils'\n\nexport interface Segment {\n  type: 'pathname' | 'param' | 'wildcard'\n  value: string\n}\n\nexport function joinPaths(paths: (string | undefined)[]) {\n  return cleanPath(paths.filter(Boolean).join('/'))\n}\n\nexport function cleanPath(path: string) {\n  // remove double slashes\n  return path.replace(/\\/{2,}/g, '/')\n}\n\nexport function trimPathLeft(path: string) {\n  return path === '/' ? path : path.replace(/^\\/{1,}/, '')\n}\n\nexport function trimPathRight(path: string) {\n  return path === '/' ? path : path.replace(/\\/{1,}$/, '')\n}\n\nexport function trimPath(path: string) {\n  return trimPathRight(trimPathLeft(path))\n}\n\nexport function resolvePath(basepath: string, base: string, to: string) {\n  base = base.replace(new RegExp(`^${basepath}`), '/')\n  to = to.replace(new RegExp(`^${basepath}`), '/')\n\n  let baseSegments = parsePathname(base)\n  const toSegments = parsePathname(to)\n\n  toSegments.forEach((toSegment, index) => {\n    if (toSegment.value === '/') {\n      if (!index) {\n        // Leading slash\n        baseSegments = [toSegment]\n      } else if (index === toSegments.length - 1) {\n        // Trailing Slash\n        baseSegments.push(toSegment)\n      } else {\n        // ignore inter-slashes\n      }\n    } else if (toSegment.value === '..') {\n      // Extra trailing slash? pop it off\n      if (baseSegments.length > 1 && last(baseSegments)?.value === '/') {\n        baseSegments.pop()\n      }\n      baseSegments.pop()\n    } else if (toSegment.value === '.') {\n      return\n    } else {\n      baseSegments.push(toSegment)\n    }\n  })\n\n  const joined = joinPaths([basepath, ...baseSegments.map((d) => d.value)])\n\n  return cleanPath(joined)\n}\n\nexport function parsePathname(pathname?: string): Segment[] {\n  if (!pathname) {\n    return []\n  }\n\n  pathname = cleanPath(pathname)\n\n  const segments: Segment[] = []\n\n  if (pathname.slice(0, 1) === '/') {\n    pathname = pathname.substring(1)\n    segments.push({\n      type: 'pathname',\n      value: '/',\n    })\n  }\n\n  if (!pathname) {\n    return segments\n  }\n\n  // Remove empty segments and '.' segments\n  const split = pathname.split('/').filter(Boolean)\n\n  segments.push(\n    ...split.map((part): Segment => {\n      if (part.startsWith('*')) {\n        return {\n          type: 'wildcard',\n          value: part,\n        }\n      }\n\n      if (part.charAt(0) === '$') {\n        return {\n          type: 'param',\n          value: part,\n        }\n      }\n\n      return {\n        type: 'pathname',\n        value: part,\n      }\n    }),\n  )\n\n  if (pathname.slice(-1) === '/') {\n    pathname = pathname.substring(1)\n    segments.push({\n      type: 'pathname',\n      value: '/',\n    })\n  }\n\n  return segments\n}\n\nexport function interpolatePath(\n  path: string | undefined,\n  params: any,\n  leaveWildcard?: boolean,\n) {\n  const interpolatedPathSegments = parsePathname(path)\n\n  return joinPaths(\n    interpolatedPathSegments.map((segment) => {\n      if (segment.value === '*' && !leaveWildcard) {\n        return ''\n      }\n\n      if (segment.type === 'param') {\n        return params![segment.value.substring(1)] ?? ''\n      }\n\n      return segment.value\n    }),\n  )\n}\n\nexport function matchPathname(\n  basepath: string,\n  currentPathname: string,\n  matchLocation: Pick<MatchLocation, 'to' | 'fuzzy' | 'caseSensitive'>,\n): AnyPathParams | undefined {\n  const pathParams = matchByPath(basepath, currentPathname, matchLocation)\n  // const searchMatched = matchBySearch(currentLocation.search, matchLocation)\n\n  if (matchLocation.to && !pathParams) {\n    return\n  }\n\n  return pathParams ?? {}\n}\n\nexport function matchByPath(\n  basepath: string,\n  from: string,\n  matchLocation: Pick<MatchLocation, 'to' | 'caseSensitive' | 'fuzzy'>,\n): Record<string, string> | undefined {\n  if (!from.startsWith(basepath)) {\n    return undefined\n  }\n  from = basepath != '/' ? from.substring(basepath.length) : from\n  const baseSegments = parsePathname(from)\n  const to = `${matchLocation.to ?? '*'}`\n  const routeSegments = parsePathname(to)\n\n  const params: Record<string, string> = {}\n\n  let isMatch = (() => {\n    for (\n      let i = 0;\n      i < Math.max(baseSegments.length, routeSegments.length);\n      i++\n    ) {\n      const baseSegment = baseSegments[i]\n      const routeSegment = routeSegments[i]\n\n      const isLastRouteSegment = i === routeSegments.length - 1\n      const isLastBaseSegment = i === baseSegments.length - 1\n\n      if (routeSegment) {\n        if (routeSegment.type === 'wildcard') {\n          if (baseSegment?.value) {\n            params['*'] = joinPaths(baseSegments.slice(i).map((d) => d.value))\n            return true\n          }\n          return false\n        }\n\n        if (routeSegment.type === 'pathname') {\n          if (routeSegment.value === '/' && !baseSegment?.value) {\n            return true\n          }\n\n          if (baseSegment) {\n            if (matchLocation.caseSensitive) {\n              if (routeSegment.value !== baseSegment.value) {\n                return false\n              }\n            } else if (\n              routeSegment.value.toLowerCase() !==\n              baseSegment.value.toLowerCase()\n            ) {\n              return false\n            }\n          }\n        }\n\n        if (!baseSegment) {\n          return false\n        }\n\n        if (routeSegment.type === 'param') {\n          if (baseSegment?.value === '/') {\n            return false\n          }\n          if (baseSegment.value.charAt(0) !== '$') {\n            params[routeSegment.value.substring(1)] = baseSegment.value\n          }\n        }\n      }\n\n      if (isLastRouteSegment && !isLastBaseSegment) {\n        return !!matchLocation.fuzzy\n      }\n    }\n    return true\n  })()\n\n  return isMatch ? (params as Record<string, string>) : undefined\n}\n","// @ts-nocheck\n\n// qss has been slightly modified and inlined here for our use cases (and compression's sake). We've included it as a hard dependency for MIT license attribution.\n\nexport function encode(obj, pfx?: string) {\n  var k,\n    i,\n    tmp,\n    str = ''\n\n  for (k in obj) {\n    if ((tmp = obj[k]) !== void 0) {\n      if (Array.isArray(tmp)) {\n        for (i = 0; i < tmp.length; i++) {\n          str && (str += '&')\n          str += encodeURIComponent(k) + '=' + encodeURIComponent(tmp[i])\n        }\n      } else {\n        str && (str += '&')\n        str += encodeURIComponent(k) + '=' + encodeURIComponent(tmp)\n      }\n    }\n  }\n\n  return (pfx || '') + str\n}\n\nfunction toValue(mix) {\n  if (!mix) return ''\n  var str = decodeURIComponent(mix)\n  if (str === 'false') return false\n  if (str === 'true') return true\n  if (str.charAt(0) === '0') return str\n  return +str * 0 === 0 ? +str : str\n}\n\nexport function decode(str) {\n  var tmp,\n    k,\n    out = {},\n    arr = str.split('&')\n\n  while ((tmp = arr.shift())) {\n    tmp = tmp.split('=')\n    k = tmp.shift()\n    if (out[k] !== void 0) {\n      out[k] = [].concat(out[k], toValue(tmp.shift()))\n    } else {\n      out[k] = toValue(tmp.shift())\n    }\n  }\n\n  return out\n}\n","// src/core.ts\nvar CurrentReaction = void 0;\nvar CurrentGets = null;\nvar CurrentGetsIndex = 0;\nvar EffectQueue = null;\nvar CacheClean = 0;\nvar CacheCheck = 1;\nvar CacheDirty = 2;\nvar Root;\nvar Reactive = class {\n  value;\n  fn;\n  observers = null;\n  sources = null;\n  state;\n  effect;\n  cleanups = null;\n  alwaysUpdate = false;\n  constructor(fnOrValue, type) {\n    if (type != 0 /* Signal */) {\n      this.fn = fnOrValue;\n      this.value = void 0;\n      this.state = CacheDirty;\n      if (Root)\n        Root.push(this);\n      else\n        console.error(\"Memos and effects must be wrapped in a createRoot\");\n      this.effect = type == 2 /* Effect */;\n      if (this.effect)\n        this.update();\n    } else {\n      this.fn = void 0;\n      this.value = fnOrValue;\n      this.state = CacheClean;\n      this.effect = false;\n    }\n  }\n  get() {\n    if (CurrentReaction) {\n      if (!CurrentGets && CurrentReaction.sources && CurrentReaction.sources[CurrentGetsIndex] == this) {\n        CurrentGetsIndex++;\n      } else {\n        if (!CurrentGets)\n          CurrentGets = [this];\n        else\n          CurrentGets.push(this);\n      }\n    }\n    if (this.fn)\n      this.updateIfNecessary();\n    return this.value;\n  }\n  set(value) {\n    const notInBatch = !EffectQueue;\n    const newValue = typeof value === \"function\" ? value(this.value) : value;\n    if ((this.value !== newValue || this.alwaysUpdate) && this.observers) {\n      for (let i = 0; i < this.observers.length; i++) {\n        this.observers[i].stale(CacheDirty);\n      }\n    }\n    this.value = newValue;\n    if (notInBatch)\n      stabilize();\n    return newValue;\n  }\n  stale(state) {\n    if (this.state < state) {\n      if (this.state === CacheClean && this.effect) {\n        if (EffectQueue)\n          EffectQueue.push(this);\n        else\n          EffectQueue = [this];\n      }\n      this.state = state;\n      if (this.observers) {\n        for (let i = 0; i < this.observers.length; i++) {\n          this.observers[i].stale(CacheCheck);\n        }\n      }\n    }\n  }\n  update() {\n    const oldValue = this.value;\n    const prevReaction = CurrentReaction;\n    const prevGets = CurrentGets;\n    const prevIndex = CurrentGetsIndex;\n    CurrentReaction = this;\n    CurrentGets = null;\n    CurrentGetsIndex = 0;\n    try {\n      if (this.cleanups) {\n        this.cleanups.forEach((c) => c());\n        this.cleanups = null;\n      }\n      this.value = this.fn();\n      if (CurrentGets) {\n        this.removeParentObservers(CurrentGetsIndex);\n        if (this.sources && CurrentGetsIndex > 0) {\n          this.sources.length = CurrentGetsIndex + CurrentGets.length;\n          for (let i = 0; i < CurrentGets.length; i++) {\n            this.sources[CurrentGetsIndex + i] = CurrentGets[i];\n          }\n        } else {\n          this.sources = CurrentGets;\n        }\n        for (let i = CurrentGetsIndex; i < this.sources.length; i++) {\n          const source = this.sources[i];\n          if (!source.observers) {\n            source.observers = [this];\n          } else {\n            source.observers.push(this);\n          }\n        }\n      } else if (this.sources && CurrentGetsIndex < this.sources.length) {\n        this.removeParentObservers(CurrentGetsIndex);\n        this.sources.length = CurrentGetsIndex;\n      }\n    } finally {\n      CurrentGets = prevGets;\n      CurrentReaction = prevReaction;\n      CurrentGetsIndex = prevIndex;\n    }\n    if ((oldValue !== this.value || this.alwaysUpdate) && this.observers) {\n      for (let i = 0; i < this.observers.length; i++) {\n        this.observers[i].state = CacheDirty;\n      }\n    }\n    this.state = CacheClean;\n  }\n  updateIfNecessary() {\n    if (this.state === CacheCheck) {\n      for (const source of this.sources) {\n        source.updateIfNecessary();\n        if (this.state === CacheDirty) {\n          break;\n        }\n      }\n    }\n    if (this.state === CacheDirty) {\n      this.update();\n    }\n    this.state = CacheClean;\n  }\n  removeParentObservers(index) {\n    if (!this.sources)\n      return;\n    for (let i = index; i < this.sources.length; i++) {\n      const source = this.sources[i];\n      const swap = source.observers.findIndex((v) => v === this);\n      source.observers[swap] = source.observers[source.observers.length - 1];\n      source.observers.pop();\n    }\n  }\n  destroy() {\n    if (this.cleanups) {\n      this.cleanups.forEach((c) => c());\n      this.cleanups = null;\n    }\n    this.removeParentObservers(0);\n  }\n};\nfunction onCleanup(fn) {\n  if (CurrentReaction) {\n    if (!CurrentReaction.cleanups)\n      CurrentReaction.cleanups = [fn];\n    else\n      CurrentReaction.cleanups.push(fn);\n  } else {\n    console.error(\"onCleanup must be called from within a memo or effect\");\n  }\n}\nfunction stabilize() {\n  if (!EffectQueue)\n    return;\n  for (let i = 0; i < EffectQueue.length; i++) {\n    EffectQueue[i].get();\n  }\n  EffectQueue = null;\n}\nfunction createSignal(value, options) {\n  const signal = new Reactive(value, 0 /* Signal */);\n  if (options?.equals !== void 0)\n    signal.alwaysUpdate = true;\n  return [signal.get.bind(signal), signal.set.bind(signal)];\n}\nfunction createMemo(fn) {\n  const memo = new Reactive(fn, 1 /* Memo */);\n  return memo.get.bind(memo);\n}\nfunction createEffect(fn) {\n  const effect = new Reactive(fn, 2 /* Effect */);\n  return effect.get.bind(effect);\n}\nfunction createRoot(fn) {\n  let root = [];\n  Root = root;\n  fn();\n  Root = null;\n  return () => {\n    if (!root)\n      return;\n    root.forEach((r) => r.destroy());\n    root = null;\n  };\n}\nfunction batch(fn) {\n  EffectQueue = [];\n  let out = fn();\n  stabilize();\n  return out;\n}\nfunction untrack(fn) {\n  const listener = CurrentReaction;\n  CurrentReaction = void 0;\n  try {\n    return fn();\n  } finally {\n    CurrentReaction = listener;\n  }\n}\n\n// src/store.ts\nvar $RAW = Symbol(\"store-raw\");\nvar $TRACK = Symbol(\"track\");\nvar $PROXY = Symbol(\"store-proxy\");\nvar $NODE = Symbol(\"store-node\");\nfunction wrap(value) {\n  let p = value[$PROXY];\n  if (!p) {\n    Object.defineProperty(value, $PROXY, {\n      value: p = new Proxy(value, proxyTraps)\n    });\n    if (!Array.isArray(value)) {\n      const keys = Object.keys(value);\n      const desc = Object.getOwnPropertyDescriptors(value);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const prop = keys[i];\n        if (desc[prop].get) {\n          const get = desc[prop].get.bind(p);\n          Object.defineProperty(value, prop, {\n            enumerable: desc[prop].enumerable,\n            get\n          });\n        }\n      }\n    }\n  }\n  return p;\n}\nfunction isWrappable(obj) {\n  let proto;\n  return obj != null && typeof obj === \"object\" && (obj[$PROXY] || !(proto = Object.getPrototypeOf(obj)) || proto === Object.prototype || Array.isArray(obj));\n}\nfunction unwrap(item, set = /* @__PURE__ */ new Set()) {\n  let result, unwrapped, v, prop;\n  if (result = item != null && item[$RAW])\n    return result;\n  if (!isWrappable(item) || set.has(item))\n    return item;\n  if (Array.isArray(item)) {\n    if (Object.isFrozen(item))\n      item = item.slice(0);\n    else\n      set.add(item);\n    for (let i = 0, l = item.length; i < l; i++) {\n      v = item[i];\n      if ((unwrapped = unwrap(v, set)) !== v)\n        item[i] = unwrapped;\n    }\n  } else {\n    if (Object.isFrozen(item))\n      item = Object.assign({}, item);\n    else\n      set.add(item);\n    const keys = Object.keys(item);\n    const desc = Object.getOwnPropertyDescriptors(item);\n    for (let i = 0, l = keys.length; i < l; i++) {\n      prop = keys[i];\n      if (desc[prop].get)\n        continue;\n      v = item[prop];\n      if ((unwrapped = unwrap(v, set)) !== v)\n        item[prop] = unwrapped;\n    }\n  }\n  return item;\n}\nfunction getDataNodes(target) {\n  let nodes = target[$NODE];\n  if (!nodes)\n    Object.defineProperty(target, $NODE, { value: nodes = {} });\n  return nodes;\n}\nfunction getDataNode(nodes, property, value) {\n  return nodes[property] || (nodes[property] = createDataNode(value));\n}\nfunction proxyDescriptor(target, property) {\n  const desc = Reflect.getOwnPropertyDescriptor(target, property);\n  if (!desc || desc.get || !desc.configurable || property === $PROXY || property === $NODE)\n    return desc;\n  delete desc.value;\n  delete desc.writable;\n  desc.get = () => target[$PROXY][property];\n  return desc;\n}\nfunction trackSelf(target) {\n  if (CurrentReaction) {\n    const nodes = getDataNodes(target);\n    (nodes._ || (nodes._ = createDataNode())).get();\n  }\n}\nfunction ownKeys(target) {\n  trackSelf(target);\n  return Reflect.ownKeys(target);\n}\nfunction createDataNode(value) {\n  const s = new Reactive(value, 0);\n  s.alwaysUpdate = true;\n  return s;\n}\nvar Writing = false;\nvar proxyTraps = {\n  get(target, property, receiver) {\n    if (property === $RAW)\n      return target;\n    if (property === $PROXY)\n      return receiver;\n    if (property === $TRACK) {\n      trackSelf(target);\n      return receiver;\n    }\n    const nodes = getDataNodes(target);\n    const tracked = nodes.hasOwnProperty(property);\n    let value = tracked ? nodes[property].get() : target[property];\n    if (property === $NODE || property === \"__proto__\")\n      return value;\n    if (!tracked) {\n      const desc = Object.getOwnPropertyDescriptor(target, property);\n      if (CurrentReaction && (typeof value !== \"function\" || target.hasOwnProperty(property)) && !(desc && desc.get))\n        value = getDataNode(nodes, property, value).get();\n    }\n    return isWrappable(value) ? wrap(value) : value;\n  },\n  has(target, property) {\n    if (property === $RAW || property === $PROXY || property === $TRACK || property === $NODE || property === \"__proto__\")\n      return true;\n    this.get(target, property, target);\n    return property in target;\n  },\n  set(target, property, value) {\n    Writing && setProperty(target, property, unwrap(value));\n    return true;\n  },\n  deleteProperty(target, property) {\n    Writing && setProperty(target, property, void 0, true);\n    return true;\n  },\n  ownKeys,\n  getOwnPropertyDescriptor: proxyDescriptor\n};\nfunction setProperty(state, property, value, deleting = false) {\n  if (!deleting && state[property] === value)\n    return;\n  const prev = state[property];\n  const len = state.length;\n  if (deleting)\n    delete state[property];\n  else\n    state[property] = value;\n  const nodes = getDataNodes(state);\n  let node;\n  if (node = getDataNode(nodes, property, prev))\n    node.set(() => value);\n  if (Array.isArray(state) && state.length !== len)\n    (node = getDataNode(nodes, \"length\", len)) && node.set(state.length);\n  (node = nodes._) && node.set();\n}\nfunction createStore(store) {\n  const unwrappedStore = unwrap(store);\n  const wrappedStore = wrap(unwrappedStore);\n  const setStore = (fn) => {\n    batch(() => {\n      try {\n        Writing = true;\n        fn(wrappedStore);\n      } finally {\n        Writing = false;\n      }\n    });\n  };\n  return [wrappedStore, setStore];\n}\nexport {\n  batch,\n  createEffect,\n  createMemo,\n  createRoot,\n  createSignal,\n  createStore,\n  isWrappable,\n  onCleanup,\n  untrack,\n  unwrap\n};\n","import {\n  CheckRelativePath,\n  LinkInfo,\n  LinkOptions,\n  ResolveRelativePath,\n  ToOptions,\n} from './link'\nimport { LoaderContext, RouteConfig, RouteOptions } from './routeConfig'\nimport {\n  AnyAllRouteInfo,\n  AnyRouteInfo,\n  DefaultAllRouteInfo,\n  RouteInfo,\n  RouteInfoByPath,\n} from './routeInfo'\nimport {\n  Action,\n  ActionState,\n  Loader,\n  LoaderState,\n  MatchRouteOptions,\n  Router,\n} from './router'\nimport { NoInfer } from './utils'\nimport { createStore } from '@solidjs/reactivity'\n\nexport interface AnyRoute extends Route<any, any, any> {}\n\nexport interface Route<\n  TAllRouteInfo extends AnyAllRouteInfo = DefaultAllRouteInfo,\n  TRouteInfo extends AnyRouteInfo = RouteInfo,\n  TRouterContext = unknown,\n> {\n  routeInfo: TRouteInfo\n  routeId: TRouteInfo['id']\n  routeRouteId: TRouteInfo['routeId']\n  routePath: TRouteInfo['path']\n  fullPath: TRouteInfo['fullPath']\n  parentRoute?: AnyRoute\n  childRoutes?: AnyRoute[]\n  options: RouteOptions\n  originalIndex: number\n  router: Router<TAllRouteInfo['routeConfig'], TAllRouteInfo, TRouterContext>\n  action: unknown extends TRouteInfo['actionResponse']\n    ?\n        | Action<TRouteInfo['actionPayload'], TRouteInfo['actionResponse']>\n        | undefined\n    : Action<TRouteInfo['actionPayload'], TRouteInfo['actionResponse']>\n  loader: unknown extends TRouteInfo['routeLoaderData']\n    ?\n        | Action<\n            LoaderContext<\n              TRouteInfo['fullSearchSchema'],\n              TRouteInfo['allParams']\n            >,\n            TRouteInfo['routeLoaderData']\n          >\n        | undefined\n    : Loader<\n        TRouteInfo['fullSearchSchema'],\n        TRouteInfo['allParams'],\n        TRouteInfo['routeLoaderData']\n      >\n  // buildLink: <TTo extends string = '.'>(\n  //   options: Omit<\n  //     LinkOptions<TAllRouteInfo, TRouteInfo['fullPath'], TTo>,\n  //     'from'\n  //   >,\n  // ) => LinkInfo\n  // matchRoute: <\n  //   TTo extends string = '.',\n  //   TResolved extends string = ResolveRelativePath<TRouteInfo['id'], TTo>,\n  // >(\n  //   matchLocation: CheckRelativePath<\n  //     TAllRouteInfo,\n  //     TRouteInfo['fullPath'],\n  //     NoInfer<TTo>\n  //   > &\n  //     Omit<ToOptions<TAllRouteInfo, TRouteInfo['fullPath'], TTo>, 'from'>,\n  //   opts?: MatchRouteOptions,\n  // ) => RouteInfoByPath<TAllRouteInfo, TResolved>['allParams']\n  // navigate: <TTo extends string = '.'>(\n  //   options: Omit<\n  //     LinkOptions<TAllRouteInfo, TRouteInfo['fullPath'], TTo>,\n  //     'from'\n  //   >,\n  // ) => Promise<void>\n}\n\nexport function createRoute<\n  TAllRouteInfo extends AnyAllRouteInfo = DefaultAllRouteInfo,\n  TRouteInfo extends AnyRouteInfo = RouteInfo,\n  TRouterContext = unknown,\n>(\n  routeConfig: RouteConfig,\n  options: TRouteInfo['options'],\n  originalIndex: number,\n  parent: undefined | Route<TAllRouteInfo, any>,\n  router: Router<TAllRouteInfo['routeConfig'], TAllRouteInfo, TRouterContext>,\n): Route<TAllRouteInfo, TRouteInfo, TRouterContext> {\n  const { id, routeId, path: routePath, fullPath } = routeConfig\n\n  let route: Route<TAllRouteInfo, TRouteInfo, TRouterContext> = {\n    routeInfo: undefined!,\n    routeId: id,\n    routeRouteId: routeId,\n    originalIndex,\n    routePath,\n    fullPath,\n    options,\n    router,\n    childRoutes: undefined!,\n    parentRoute: parent,\n    get action() {\n      let action =\n        router.store.actions[id] ||\n        (() => {\n          router.setStore((s) => {\n            s.actions[id] = {\n              submissions: [],\n              submit: async <T, U>(\n                submission: T,\n                actionOpts?: { invalidate?: boolean; multi?: boolean },\n              ) => {\n                if (!route) {\n                  return\n                }\n\n                const invalidate = actionOpts?.invalidate ?? true\n\n                const [actionStore, setActionStore] = createStore<\n                  ActionState<T, U>\n                >({\n                  submittedAt: Date.now(),\n                  status: 'pending',\n                  submission,\n                  isMulti: !!actionOpts?.multi,\n                })\n\n                router.setStore((s) => {\n                  if (!actionOpts?.multi) {\n                    s.actions[id]!.submissions = action.submissions.filter(\n                      (d) => d.isMulti,\n                    )\n                  }\n\n                  s.actions[id]!.current = actionStore\n                  s.actions[id]!.latest = actionStore\n                  s.actions[id]!.submissions.push(actionStore)\n                })\n\n                try {\n                  const res = await route.options.action?.(submission)\n\n                  setActionStore((s) => {\n                    s.data = res as U\n                  })\n\n                  if (invalidate) {\n                    router.invalidateRoute({ to: '.', fromCurrent: true })\n                    await router.reload()\n                  }\n\n                  setActionStore((s) => {\n                    s.status = 'success'\n                  })\n\n                  return res\n                } catch (err) {\n                  console.error(err)\n                  setActionStore((s) => {\n                    s.error = err\n                    s.status = 'error'\n                  })\n                }\n              },\n            }\n          })\n\n          return router.store.actions[id]!\n        })()\n\n      return action\n    },\n    get loader() {\n      let loader =\n        router.store.loaders[id] ||\n        (() => {\n          router.setStore((s) => {\n            s.loaders[id] = {\n              pending: [],\n              fetch: (async (loaderContext: LoaderContext<any, any>) => {\n                if (!route) {\n                  return\n                }\n\n                const loaderState: LoaderState<any, any> = {\n                  loadedAt: Date.now(),\n                  loaderContext,\n                }\n\n                router.setStore((s) => {\n                  s.loaders[id]!.current = loaderState\n                  s.loaders[id]!.latest = loaderState\n                  s.loaders[id]!.pending.push(loaderState)\n                })\n\n                try {\n                  return await route.options.loader?.(loaderContext)\n                } finally {\n                  router.setStore((s) => {\n                    s.loaders[id]!.pending = s.loaders[id]!.pending.filter(\n                      (d) => d !== loaderState,\n                    )\n                  })\n                }\n              }) as any,\n            }\n          })\n\n          return router.store.loaders[id]!\n        })()\n\n      return loader as any\n    },\n\n    // buildLink: (options) => {\n    //   return router.buildLink({\n    //     ...options,\n    //     from: fullPath,\n    //   } as any) as any\n    // },\n\n    // navigate: (options) => {\n    //   return router.navigate({\n    //     ...options,\n    //     from: fullPath,\n    //   } as any) as any\n    // },\n\n    // matchRoute: (matchLocation, opts) => {\n    //   return router.matchRoute(\n    //     {\n    //       ...matchLocation,\n    //       from: fullPath,\n    //     } as any,\n    //     opts,\n    //   ) as any\n    // },\n  }\n\n  router.options.createRoute?.({ router, route })\n\n  return route\n}\n","import invariant from 'tiny-invariant'\nimport { GetFrameworkGeneric } from './frameworks'\nimport { ParsePathParams } from './link'\nimport { joinPaths, trimPath, trimPathRight } from './path'\nimport { RouteInfo } from './routeInfo'\nimport { RouteMatch } from './routeMatch'\nimport { RegisteredRouter, Router } from './router'\nimport { Expand, IsAny, NoInfer, PickUnsafe } from './utils'\n\nexport const rootRouteId = '__root__' as const\nexport type RootRouteId = typeof rootRouteId\n\nexport type AnyLoaderData = {}\nexport type AnyPathParams = {}\nexport type AnySearchSchema = {}\nexport interface RouteMeta {}\n\n// The parse type here allows a zod schema to be passed directly to the validator\nexport type SearchSchemaValidator<TReturn, TParentSchema> =\n  | SearchSchemaValidatorObj<TReturn, TParentSchema>\n  | SearchSchemaValidatorFn<TReturn, TParentSchema>\n\nexport type SearchSchemaValidatorObj<TReturn, TParentSchema> = {\n  parse?: SearchSchemaValidatorFn<TReturn, TParentSchema>\n}\n\nexport type SearchSchemaValidatorFn<TReturn, TParentSchema> = (\n  searchObj: Record<string, unknown>,\n) => {} extends TParentSchema\n  ? TReturn\n  : keyof TReturn extends keyof TParentSchema\n  ? {\n      error: 'Top level search params cannot be redefined by child routes!'\n      keys: keyof TReturn & keyof TParentSchema\n    }\n  : TReturn\n\nexport type DefinedPathParamWarning =\n  'Path params cannot be redefined by child routes!'\n\nexport type ParentParams<TParentParams> = AnyPathParams extends TParentParams\n  ? {}\n  : {\n      [Key in keyof TParentParams]?: DefinedPathParamWarning\n    }\n\nexport type LoaderFn<\n  TRouteLoaderData extends AnyLoaderData = {},\n  TFullSearchSchema extends AnySearchSchema = {},\n  TAllParams extends AnyPathParams = {},\n> = (\n  loaderContext: LoaderContext<TFullSearchSchema, TAllParams>,\n) => TRouteLoaderData | Promise<TRouteLoaderData>\n\nexport interface LoaderContext<\n  TFullSearchSchema extends AnySearchSchema = {},\n  TAllParams extends AnyPathParams = {},\n> {\n  params: TAllParams\n  search: TFullSearchSchema\n  signal?: AbortSignal\n  // parentLoaderPromise?: Promise<TParentRouteLoaderData>\n}\n\nexport type ActionFn<TActionPayload = unknown, TActionResponse = unknown> = (\n  submission: TActionPayload,\n) => TActionResponse | Promise<TActionResponse>\n\nexport type UnloaderFn<TPath extends string> = (\n  routeMatch: RouteMatch<any, RouteInfo<string, TPath>>,\n) => void\n\nexport type RouteOptions<\n  TRouteId extends string = string,\n  TPath extends string = string,\n  TParentRouteLoaderData extends AnyLoaderData = {},\n  TRouteLoaderData extends AnyLoaderData = {},\n  TParentLoaderData extends AnyLoaderData = {},\n  TLoaderData extends AnyLoaderData = {},\n  TActionPayload = unknown,\n  TActionResponse = unknown,\n  TParentSearchSchema extends {} = {},\n  TSearchSchema extends AnySearchSchema = {},\n  TFullSearchSchema extends AnySearchSchema = TSearchSchema,\n  TParentParams extends AnyPathParams = {},\n  TParams extends Record<ParsePathParams<TPath>, unknown> = Record<\n    ParsePathParams<TPath>,\n    string\n  >,\n  TAllParams extends AnyPathParams = {},\n> = (\n  | {\n      // The path to match (relative to the nearest parent `Route` component or root basepath)\n      path: TPath\n    }\n  | {\n      id: TRouteId\n    }\n) & {\n  // If true, this route will be matched as case-sensitive\n  caseSensitive?: boolean\n  validateSearch?: SearchSchemaValidator<TSearchSchema, TParentSearchSchema>\n  // Filter functions that can manipulate search params *before* they are passed to links and navigate\n  // calls that match this route.\n  preSearchFilters?: SearchFilter<TFullSearchSchema>[]\n  // Filter functions that can manipulate search params *after* they are passed to links and navigate\n  // calls that match this route.\n  postSearchFilters?: SearchFilter<TFullSearchSchema>[]\n  // The content to be rendered when the route is matched. If no component is provided, defaults to `<Outlet />`\n  component?: GetFrameworkGeneric<'Component'> // , NoInfer<TParentLoaderData>>\n  // The content to be rendered when the route encounters an error\n  errorComponent?: GetFrameworkGeneric<'ErrorComponent'> // , NoInfer<TParentLoaderData>>\n  // If supported by your framework, the content to be rendered as the fallback content until the route is ready to render\n  pendingComponent?: GetFrameworkGeneric<'Component'> //, NoInfer<TParentLoaderData>>\n  // An asynchronous function responsible for preparing or fetching data for the route before it is rendered\n  loader?: LoaderFn<TRouteLoaderData, TFullSearchSchema, TAllParams>\n  // The max age to consider loader data fresh (not-stale) for this route in milliseconds from the time of fetch\n  // Defaults to 0. Only stale loader data is refetched.\n  loaderMaxAge?: number\n  // The max age to cache the loader data for this route in milliseconds from the time of route inactivity\n  // before it is garbage collected.\n  loaderGcMaxAge?: number\n  // An asynchronous function made available to the route for performing asynchronous or mutative actions that\n  // might invalidate the route's data.\n  action?: ActionFn<TActionPayload, TActionResponse>\n  // This async function is called before a route is loaded.\n  // If an error is thrown here, the route's loader will not be called.\n  // If thrown during a navigation, the navigation will be cancelled and the error will be passed to the `onLoadError` function.\n  // If thrown during a preload event, the error will be logged to the console.\n  beforeLoad?: (opts: {\n    router: Router<any, any, unknown>\n    match: RouteMatch\n  }) => Promise<void> | void\n  // This function will be called if the route's loader throws an error **during an attempted navigation**.\n  // If you want to redirect due to an error, call `router.navigate()` from within this function.\n  onLoadError?: (err: any) => void\n  // This function is called\n  // when moving from an inactive state to an active one. Likewise, when moving from\n  // an active to an inactive state, the return function (if provided) is called.\n  onLoaded?: (matchContext: {\n    params: TAllParams\n    search: TFullSearchSchema\n  }) =>\n    | void\n    | undefined\n    | ((match: { params: TAllParams; search: TFullSearchSchema }) => void)\n  // This function is called when the route remains active from one transition to the next.\n  onTransition?: (match: {\n    params: TAllParams\n    search: TFullSearchSchema\n  }) => void\n  // An object of whatever you want! This object is accessible anywhere matches are.\n  meta?: RouteMeta // TODO: Make this nested and mergeable\n} & (\n    | {\n        parseParams?: never\n        stringifyParams?: never\n      }\n    | {\n        // Parse params optionally receives path params as strings and returns them in a parsed format (like a number or boolean)\n        parseParams: (\n          rawParams: IsAny<TPath, any, Record<ParsePathParams<TPath>, string>>,\n        ) => TParams\n        stringifyParams: (\n          params: TParams,\n        ) => Record<ParsePathParams<TPath>, string>\n      }\n  ) &\n  (PickUnsafe<TParentParams, ParsePathParams<TPath>> extends never // Detect if an existing path param is being redefined\n    ? {}\n    : 'Cannot redefined path params in child routes!')\n\nexport type SearchFilter<T, U = T> = (prev: T) => U\n\nexport interface RouteConfig<\n  TId extends string = string,\n  TRouteId extends string = string,\n  TPath extends string = string,\n  TFullPath extends string = string,\n  TParentRouteLoaderData extends AnyLoaderData = AnyLoaderData,\n  TRouteLoaderData extends AnyLoaderData = AnyLoaderData,\n  TParentLoaderData extends AnyLoaderData = {},\n  TLoaderData extends AnyLoaderData = AnyLoaderData,\n  TActionPayload = unknown,\n  TActionResponse = unknown,\n  TParentSearchSchema extends {} = {},\n  TSearchSchema extends AnySearchSchema = {},\n  TFullSearchSchema extends AnySearchSchema = {},\n  TParentParams extends AnyPathParams = {},\n  TParams extends AnyPathParams = {},\n  TAllParams extends AnyPathParams = {},\n  TKnownChildren = unknown,\n> {\n  id: TId\n  routeId: TRouteId\n  path: NoInfer<TPath>\n  fullPath: TFullPath\n  options: RouteOptions<\n    TRouteId,\n    TPath,\n    TParentRouteLoaderData,\n    TRouteLoaderData,\n    TParentLoaderData,\n    TLoaderData,\n    TActionPayload,\n    TActionResponse,\n    TParentSearchSchema,\n    TSearchSchema,\n    TFullSearchSchema,\n    TParentParams,\n    TParams,\n    TAllParams\n  >\n  children?: TKnownChildren\n  addChildren: IsAny<\n    TId,\n    any,\n    <TNewChildren extends any>(\n      children: TNewChildren extends AnyRouteConfig[]\n        ? TNewChildren\n        : { error: 'Invalid route detected'; route: TNewChildren },\n    ) => RouteConfig<\n      TId,\n      TRouteId,\n      TPath,\n      TFullPath,\n      TParentRouteLoaderData,\n      TRouteLoaderData,\n      TParentLoaderData,\n      TLoaderData,\n      TActionPayload,\n      TActionResponse,\n      TParentSearchSchema,\n      TSearchSchema,\n      TFullSearchSchema,\n      TParentParams,\n      TParams,\n      TAllParams,\n      TNewChildren\n    >\n  >\n  createRoute: CreateRouteConfigFn<\n    false,\n    TId,\n    TFullPath,\n    TRouteLoaderData,\n    TLoaderData,\n    TFullSearchSchema,\n    TAllParams\n  >\n  generate: GenerateFn<\n    TRouteId,\n    TPath,\n    TParentRouteLoaderData,\n    TParentLoaderData,\n    TParentSearchSchema,\n    TParentParams\n  >\n}\n\ntype GenerateFn<\n  TRouteId extends string = string,\n  TPath extends string = string,\n  TParentRouteLoaderData extends AnyLoaderData = AnyLoaderData,\n  TParentLoaderData extends AnyLoaderData = {},\n  TParentSearchSchema extends {} = {},\n  TParentParams extends AnyPathParams = {},\n> = <\n  TRouteLoaderData extends AnyLoaderData = AnyLoaderData,\n  TActionPayload = unknown,\n  TActionResponse = unknown,\n  TSearchSchema extends AnySearchSchema = {},\n  TParams extends Record<ParsePathParams<TPath>, unknown> = Record<\n    ParsePathParams<TPath>,\n    string\n  >,\n  TAllParams extends AnyPathParams extends TParams\n    ? Record<ParsePathParams<TPath>, string>\n    : NoInfer<TParams> = AnyPathParams extends TParams\n    ? Record<ParsePathParams<TPath>, string>\n    : NoInfer<TParams>,\n>(\n  options: Omit<\n    RouteOptions<\n      TRouteId,\n      TPath,\n      TParentRouteLoaderData,\n      TRouteLoaderData,\n      TParentLoaderData,\n      Expand<TParentLoaderData & NoInfer<TRouteLoaderData>>,\n      TActionPayload,\n      TActionResponse,\n      TParentSearchSchema,\n      TSearchSchema,\n      Expand<TParentSearchSchema & TSearchSchema>,\n      TParentParams,\n      TParams,\n      Expand<TParentParams & TAllParams>\n    >,\n    'path'\n  >,\n) => void\n\ntype CreateRouteConfigFn<\n  TIsRoot extends boolean = false,\n  TParentId extends string = string,\n  TParentPath extends string = string,\n  TParentRouteLoaderData extends AnyLoaderData = {},\n  TParentLoaderData extends AnyLoaderData = {},\n  TParentSearchSchema extends AnySearchSchema = {},\n  TParentParams extends AnyPathParams = {},\n> = <\n  TRouteId extends string,\n  TPath extends string,\n  TRouteLoaderData extends AnyLoaderData,\n  TActionPayload,\n  TActionResponse,\n  TSearchSchema extends AnySearchSchema = AnySearchSchema,\n  TParams extends Record<ParsePathParams<TPath>, unknown> = Record<\n    ParsePathParams<TPath>,\n    string\n  >,\n  TAllParams extends AnyPathParams extends TParams\n    ? Record<ParsePathParams<TPath>, string>\n    : NoInfer<TParams> = AnyPathParams extends TParams\n    ? Record<ParsePathParams<TPath>, string>\n    : NoInfer<TParams>,\n  TKnownChildren extends RouteConfig[] = RouteConfig[],\n  TResolvedId extends string = string extends TRouteId\n    ? string extends TPath\n      ? string\n      : TPath\n    : TRouteId,\n>(\n  options?: TIsRoot extends true\n    ? Omit<\n        RouteOptions<\n          TRouteId,\n          TPath,\n          TParentRouteLoaderData,\n          TRouteLoaderData,\n          TParentLoaderData,\n          Expand<TParentLoaderData & NoInfer<TRouteLoaderData>>,\n          TActionPayload,\n          TActionResponse,\n          TParentSearchSchema,\n          TSearchSchema,\n          Expand<TParentSearchSchema & TSearchSchema>,\n          TParentParams,\n          TParams,\n          Expand<TParentParams & TAllParams>\n        >,\n        'path'\n      > & { path?: never }\n    : RouteOptions<\n        TRouteId,\n        TPath,\n        TParentRouteLoaderData,\n        TRouteLoaderData,\n        TParentLoaderData,\n        Expand<TParentLoaderData & NoInfer<TRouteLoaderData>>,\n        TActionPayload,\n        TActionResponse,\n        TParentSearchSchema,\n        TSearchSchema,\n        Expand<TParentSearchSchema & TSearchSchema>,\n        TParentParams,\n        TParams,\n        Expand<TParentParams & TAllParams>\n      >,\n  children?: TKnownChildren,\n  isRoot?: boolean,\n  parentId?: string,\n  parentPath?: string,\n) => RouteConfig<\n  RoutePrefix<TParentId, TResolvedId>,\n  TResolvedId,\n  TPath,\n  string extends TPath ? '' : RoutePath<RoutePrefix<TParentPath, TPath>>,\n  TParentRouteLoaderData,\n  TRouteLoaderData,\n  TParentLoaderData,\n  Expand<TParentLoaderData & NoInfer<TRouteLoaderData>>,\n  TActionPayload,\n  TActionResponse,\n  TParentSearchSchema,\n  TSearchSchema,\n  Expand<TParentSearchSchema & TSearchSchema>,\n  TParentParams,\n  TParams,\n  Expand<TParentParams & TAllParams>,\n  TKnownChildren\n>\n\ntype RoutePath<T extends string> = T extends RootRouteId\n  ? '/'\n  : TrimPathRight<`${T}`>\n\ntype RoutePrefix<\n  TPrefix extends string,\n  TId extends string,\n> = string extends TId\n  ? RootRouteId\n  : TId extends string\n  ? `${TPrefix}/${TId}` extends '/'\n    ? '/'\n    : `/${TrimPathLeft<`${TrimPathRight<TPrefix>}/${TrimPath<TId>}`>}`\n  : never\n\nexport interface AnyRouteConfig\n  extends RouteConfig<\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any\n  > {}\n\nexport interface AnyRouteConfigWithChildren<TChildren>\n  extends RouteConfig<\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    TChildren\n  > {}\n\ntype TrimPath<T extends string> = '' extends T\n  ? ''\n  : TrimPathRight<TrimPathLeft<T>>\n\ntype TrimPathLeft<T extends string> = T extends `${RootRouteId}/${infer U}`\n  ? TrimPathLeft<U>\n  : T extends `/${infer U}`\n  ? TrimPathLeft<U>\n  : T\ntype TrimPathRight<T extends string> = T extends '/'\n  ? '/'\n  : T extends `${infer U}/`\n  ? TrimPathRight<U>\n  : T\n\nexport const createRouteConfig: CreateRouteConfigFn<true> = (\n  options = {} as any,\n  children,\n  isRoot = true,\n  parentId,\n  parentPath,\n) => {\n  if (isRoot) {\n    ;(options as any).path = rootRouteId\n  }\n\n  // Strip the root from parentIds\n  if (parentId === rootRouteId) {\n    parentId = ''\n  }\n\n  let path: undefined | string = isRoot ? rootRouteId : options.path\n\n  // If the path is anything other than an index path, trim it up\n  if (path && path !== '/') {\n    path = trimPath(path)\n  }\n\n  const routeId = path || (options as { id?: string }).id\n\n  let id = joinPaths([parentId, routeId])\n\n  if (path === rootRouteId) {\n    path = '/'\n  }\n\n  if (id !== rootRouteId) {\n    id = joinPaths(['/', id])\n  }\n\n  const fullPath =\n    id === rootRouteId ? '/' : trimPathRight(joinPaths([parentPath, path]))\n\n  return {\n    id: id as any,\n    routeId: routeId as any,\n    path: path as any,\n    fullPath: fullPath as any,\n    options: options as any,\n    children,\n    addChildren: (children: any) =>\n      createRouteConfig(options, children, false, parentId, parentPath),\n    createRoute: (childOptions: any) =>\n      createRouteConfig(childOptions, undefined, false, id, fullPath) as any,\n    generate: () => {\n      invariant(\n        false,\n        `routeConfig.generate() is used by TanStack Router's file-based routing code generation and should not actually be called during runtime. `,\n      )\n    },\n  }\n}\n","/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\nexport function sharedClone<T>(prev: any, next: T, touchAll?: boolean): T {\n  const things = new Map()\n\n  function recurse(prev: any, next: any) {\n    if (prev === next) {\n      return prev\n    }\n\n    if (things.has(next)) {\n      return things.get(next)\n    }\n\n    const prevIsArray = Array.isArray(prev)\n    const nextIsArray = Array.isArray(next)\n    const prevIsObj = isPlainObject(prev)\n    const nextIsObj = isPlainObject(next)\n\n    const isArray = prevIsArray && nextIsArray\n    const isObj = prevIsObj && nextIsObj\n\n    const isSameStructure = isArray || isObj\n\n    // Both are arrays or objects\n    if (isSameStructure) {\n      const aSize = isArray ? prev.length : Object.keys(prev).length\n      const bItems = isArray ? next : Object.keys(next)\n      const bSize = bItems.length\n      const copy: any = isArray ? [] : {}\n\n      let equalItems = 0\n\n      for (let i = 0; i < bSize; i++) {\n        const key = isArray ? i : bItems[i]\n        if (copy[key] === prev[key]) {\n          equalItems++\n        }\n      }\n      if (aSize === bSize && equalItems === aSize) {\n        things.set(next, prev)\n        return prev\n      }\n      things.set(next, copy)\n      for (let i = 0; i < bSize; i++) {\n        const key = isArray ? i : bItems[i]\n        if (typeof bItems[i] === 'function') {\n          copy[key] = prev[key]\n        } else {\n          copy[key] = recurse(prev[key], next[key])\n        }\n        if (copy[key] === prev[key]) {\n          equalItems++\n        }\n      }\n\n      return copy\n    }\n\n    if (nextIsArray) {\n      const copy: any[] = []\n      things.set(next, copy)\n      for (let i = 0; i < next.length; i++) {\n        copy[i] = recurse(undefined, next[i])\n      }\n      return copy as T\n    }\n\n    if (nextIsObj) {\n      const copy = {} as any\n      things.set(next, copy)\n      const nextKeys = Object.keys(next)\n      for (let i = 0; i < nextKeys.length; i++) {\n        const key = nextKeys[i]!\n        copy[key] = recurse(undefined, next[key])\n      }\n      return copy as T\n    }\n\n    return next\n  }\n\n  return recurse(prev, next)\n}\n\n// Copied from: https://github.com/jonschlinkert/is-plain-object\nfunction isPlainObject(o: any) {\n  if (!hasObjectPrototype(o)) {\n    return false\n  }\n\n  // If has modified constructor\n  const ctor = o.constructor\n  if (typeof ctor === 'undefined') {\n    return true\n  }\n\n  // If has modified prototype\n  const prot = ctor.prototype\n  if (!hasObjectPrototype(prot)) {\n    return false\n  }\n\n  // If constructor does not have an Object-specific method\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false\n  }\n\n  // Most likely a plain Object\n  return true\n}\n\nfunction hasObjectPrototype(o: any) {\n  return Object.prototype.toString.call(o) === '[object Object]'\n}\n","import { boolean } from 'zod'\nimport { GetFrameworkGeneric } from './frameworks'\nimport { Route } from './route'\nimport {\n  AnyAllRouteInfo,\n  AnyRouteInfo,\n  DefaultAllRouteInfo,\n  RouteInfo,\n} from './routeInfo'\nimport { Router } from './router'\nimport { batch, createStore } from '@solidjs/reactivity'\nimport { Expand } from './utils'\nimport { sharedClone } from './sharedClone'\n\nexport interface RouteMatchStore<\n  TAllRouteInfo extends AnyAllRouteInfo = DefaultAllRouteInfo,\n  TRouteInfo extends AnyRouteInfo = RouteInfo,\n> {\n  parentMatch?: RouteMatch\n  routeSearch: TRouteInfo['searchSchema']\n  search: Expand<\n    TAllRouteInfo['fullSearchSchema'] & TRouteInfo['fullSearchSchema']\n  >\n  status: 'idle' | 'loading' | 'success' | 'error'\n  updatedAt?: number\n  error?: unknown\n  invalid: boolean\n  isInvalid: boolean\n  loaderData: TRouteInfo['loaderData']\n  routeLoaderData: TRouteInfo['routeLoaderData']\n  isFetching: boolean\n  invalidAt: number\n}\n\nexport interface RouteMatch<\n  TAllRouteInfo extends AnyAllRouteInfo = DefaultAllRouteInfo,\n  TRouteInfo extends AnyRouteInfo = RouteInfo,\n> extends Route<TAllRouteInfo, TRouteInfo> {\n  store: RouteMatchStore<TAllRouteInfo, TRouteInfo>\n  // setStore: WritableStore<RouteMatchStore<TAllRouteInfo, TRouteInfo>>\n  matchId: string\n  pathname: string\n  params: TRouteInfo['allParams']\n  childMatches: RouteMatch[]\n  cancel: () => void\n  load: (\n    loaderOpts?:\n      | { preload: true; maxAge: number; gcMaxAge: number }\n      | { preload?: false; maxAge?: never; gcMaxAge?: never },\n  ) => Promise<TRouteInfo['routeLoaderData']>\n  fetch: (opts?: { maxAge?: number }) => Promise<TRouteInfo['routeLoaderData']>\n  invalidate: () => void\n  hasLoaders: () => boolean\n  __: {\n    setParentMatch: (parentMatch?: RouteMatch) => void\n    component?: GetFrameworkGeneric<'Component'>\n    errorComponent?: GetFrameworkGeneric<'ErrorComponent'>\n    pendingComponent?: GetFrameworkGeneric<'Component'>\n    loadPromise?: Promise<void>\n    onExit?:\n      | void\n      | ((matchContext: {\n          params: TRouteInfo['allParams']\n          search: TRouteInfo['fullSearchSchema']\n        }) => void)\n    abortController: AbortController\n    validate: () => void\n  }\n}\n\nconst componentTypes = [\n  'component',\n  'errorComponent',\n  'pendingComponent',\n] as const\n\nexport function createRouteMatch<\n  TAllRouteInfo extends AnyAllRouteInfo = DefaultAllRouteInfo,\n  TRouteInfo extends AnyRouteInfo = RouteInfo,\n>(\n  router: Router<any, any, any>,\n  route: Route<TAllRouteInfo, TRouteInfo>,\n  opts: {\n    parentMatch?: RouteMatch<any, any>\n    matchId: string\n    params: TRouteInfo['allParams']\n    pathname: string\n  },\n): RouteMatch<TAllRouteInfo, TRouteInfo> {\n  let componentsPromise: Promise<void>\n  let dataPromise: Promise<TRouteInfo['routeLoaderData']>\n  let latestId = ''\n  let resolve = () => {}\n\n  function setLoaderData(loaderData: TRouteInfo['routeLoaderData']) {\n    batch(() => {\n      setStore((s) => {\n        s.routeLoaderData = sharedClone(s.routeLoaderData, loaderData)\n      })\n      updateLoaderData()\n    })\n  }\n\n  function updateLoaderData() {\n    setStore((s) => {\n      s.loaderData = sharedClone(s.loaderData, {\n        ...store.parentMatch?.store.loaderData,\n        ...s.routeLoaderData,\n      }) as TRouteInfo['loaderData']\n    })\n  }\n\n  const [store, setStore] = createStore<\n    RouteMatchStore<TAllRouteInfo, TRouteInfo>\n  >({\n    routeSearch: {},\n    search: {} as any,\n    status: 'idle',\n    routeLoaderData: {} as TRouteInfo['routeLoaderData'],\n    loaderData: {} as TRouteInfo['loaderData'],\n    isFetching: false,\n    invalid: false,\n    invalidAt: Infinity,\n    get isInvalid(): boolean {\n      const now = Date.now()\n      return this.invalid || this.invalidAt < now\n    },\n  })\n\n  const routeMatch: RouteMatch<TAllRouteInfo, TRouteInfo> = {\n    ...route,\n    ...opts,\n    store,\n    // setStore,\n    router,\n    childMatches: [],\n    __: {\n      setParentMatch: (parentMatch?: RouteMatch) => {\n        batch(() => {\n          setStore((s) => {\n            s.parentMatch = parentMatch\n          })\n\n          updateLoaderData()\n        })\n      },\n      abortController: new AbortController(),\n      validate: () => {\n        // Validate the search params and stabilize them\n        const parentSearch =\n          store.parentMatch?.store.search ?? router.store.currentLocation.search\n\n        try {\n          const prevSearch = store.routeSearch\n\n          const validator =\n            typeof routeMatch.options.validateSearch === 'object'\n              ? routeMatch.options.validateSearch.parse\n              : routeMatch.options.validateSearch\n\n          let nextSearch = sharedClone(\n            prevSearch,\n            validator?.(parentSearch) ?? {},\n          )\n\n          batch(() => {\n            // Invalidate route matches when search param stability changes\n            if (prevSearch !== nextSearch) {\n              setStore((s) => (s.invalid = true))\n            }\n\n            // TODO: Alright, do we need batch() here?\n            setStore((s) => {\n              s.routeSearch = nextSearch\n              s.search = sharedClone(parentSearch, {\n                ...parentSearch,\n                ...nextSearch,\n              })\n            })\n          })\n\n          componentTypes.map(async (type) => {\n            const component = routeMatch.options[type]\n\n            if (typeof routeMatch.__[type] !== 'function') {\n              routeMatch.__[type] = component\n            }\n          })\n        } catch (err: any) {\n          console.error(err)\n          const error = new (Error as any)('Invalid search params found', {\n            cause: err,\n          })\n          error.code = 'INVALID_SEARCH_PARAMS'\n\n          setStore((s) => {\n            s.status = 'error'\n            s.error = error\n          })\n\n          // Do not proceed with loading the route\n          return\n        }\n      },\n    },\n    cancel: () => {\n      routeMatch.__.abortController?.abort()\n    },\n    invalidate: () => {\n      setStore((s) => (s.invalid = true))\n    },\n    hasLoaders: () => {\n      return !!(\n        route.options.loader ||\n        componentTypes.some((d) => route.options[d]?.preload)\n      )\n    },\n    load: async (loaderOpts) => {\n      const now = Date.now()\n      const minMaxAge = loaderOpts?.preload\n        ? Math.max(loaderOpts?.maxAge, loaderOpts?.gcMaxAge)\n        : 0\n\n      // If this is a preload, add it to the preload cache\n      if (loaderOpts?.preload && minMaxAge > 0) {\n        // If the match is currently active, don't preload it\n        if (\n          router.store.currentMatches.find(\n            (d) => d.matchId === routeMatch.matchId,\n          )\n        ) {\n          return\n        }\n\n        router.store.matchCache[routeMatch.matchId] = {\n          gc: now + loaderOpts.gcMaxAge,\n          match: routeMatch as RouteMatch<any, any>,\n        }\n      }\n\n      // If the match is invalid, errored or idle, trigger it to load\n      if (\n        (store.status === 'success' && store.isInvalid) ||\n        store.status === 'error' ||\n        store.status === 'idle'\n      ) {\n        const maxAge = loaderOpts?.preload ? loaderOpts?.maxAge : undefined\n\n        await routeMatch.fetch({ maxAge })\n      }\n    },\n    fetch: async (opts) => {\n      const loadId = '' + Date.now() + Math.random()\n      latestId = loadId\n      const checkLatest = async () => {\n        if (loadId !== latestId) {\n          // warning(true, 'Data loader is out of date!')\n          return new Promise(() => {})\n        }\n      }\n\n      batch(() => {\n        // If the match was in an error state, set it\n        // to a loading state again. Otherwise, keep it\n        // as loading or resolved\n        if (store.status === 'idle') {\n          setStore((s) => (s.status = 'loading'))\n        }\n\n        // We started loading the route, so it's no longer invalid\n        setStore((s) => (s.invalid = false))\n      })\n\n      routeMatch.__.loadPromise = new Promise(async (r) => {\n        // We are now fetching, even if it's in the background of a\n        // resolved state\n        setStore((s) => (s.isFetching = true))\n        resolve = r as () => void\n\n        componentsPromise = (async () => {\n          // then run all component and data loaders in parallel\n          // For each component type, potentially load it asynchronously\n\n          await Promise.all(\n            componentTypes.map(async (type) => {\n              const component = routeMatch.options[type]\n\n              if (routeMatch.__[type]?.preload) {\n                routeMatch.__[type] = await router.options.loadComponent!(\n                  component,\n                )\n              }\n            }),\n          )\n        })()\n\n        dataPromise = Promise.resolve().then(async () => {\n          try {\n            if (routeMatch.options.loader) {\n              const data = await router.loadMatchData(routeMatch)\n              await checkLatest()\n\n              setLoaderData(data)\n            }\n\n            setStore((s) => {\n              s.error = undefined\n              s.status = 'success'\n              s.updatedAt = Date.now()\n              s.invalidAt =\n                s.updatedAt +\n                (opts?.maxAge ??\n                  routeMatch.options.loaderMaxAge ??\n                  router.options.defaultLoaderMaxAge ??\n                  0)\n            })\n\n            return store.routeLoaderData\n          } catch (err) {\n            await checkLatest()\n\n            if (process.env.NODE_ENV !== 'production') {\n              console.error(err)\n            }\n\n            setStore((s) => {\n              s.error = err\n              s.status = 'error'\n              s.updatedAt = Date.now()\n            })\n\n            throw err\n          }\n        })\n\n        const after = async () => {\n          await checkLatest()\n          setStore((s) => (s.isFetching = false))\n          delete routeMatch.__.loadPromise\n          resolve()\n        }\n\n        try {\n          await Promise.all([componentsPromise, dataPromise.catch(() => {})])\n          after()\n        } catch {\n          after()\n        }\n      })\n\n      await routeMatch.__.loadPromise\n      await checkLatest()\n    },\n  }\n\n  if (!routeMatch.hasLoaders()) {\n    setStore((s) => (s.status = 'success'))\n  }\n\n  return routeMatch\n}\n","import { decode, encode } from './qss'\nimport { AnySearchSchema } from './routeConfig'\n\nexport const defaultParseSearch = parseSearchWith(JSON.parse)\nexport const defaultStringifySearch = stringifySearchWith(JSON.stringify)\n\nexport function parseSearchWith(parser: (str: string) => any) {\n  return (searchStr: string): AnySearchSchema => {\n    if (searchStr.substring(0, 1) === '?') {\n      searchStr = searchStr.substring(1)\n    }\n\n    let query: Record<string, unknown> = decode(searchStr)\n\n    // Try to parse any query params that might be json\n    for (let key in query) {\n      const value = query[key]\n      if (typeof value === 'string') {\n        try {\n          query[key] = parser(value)\n        } catch (err) {\n          //\n        }\n      }\n    }\n\n    return query\n  }\n}\n\nexport function stringifySearchWith(stringify: (search: any) => string) {\n  return (search: Record<string, any>) => {\n    search = { ...search }\n\n    if (search) {\n      Object.keys(search).forEach((key) => {\n        const val = search[key]\n        if (typeof val === 'undefined' || val === undefined) {\n          delete search[key]\n        } else if (val && typeof val === 'object' && val !== null) {\n          try {\n            search[key] = stringify(val)\n          } catch (err) {\n            // silent\n          }\n        }\n      })\n    }\n\n    const searchStr = encode(search as Record<string, string>).toString()\n\n    return searchStr ? `?${searchStr}` : ''\n  }\n}\n","import {\n  BrowserHistory,\n  createBrowserHistory,\n  createMemoryHistory,\n  HashHistory,\n  History,\n  MemoryHistory,\n} from 'history'\nimport invariant from 'tiny-invariant'\nimport { GetFrameworkGeneric } from './frameworks'\n\nimport {\n  LinkInfo,\n  LinkOptions,\n  NavigateOptions,\n  ToOptions,\n  ValidFromPath,\n  ResolveRelativePath,\n} from './link'\nimport {\n  cleanPath,\n  interpolatePath,\n  joinPaths,\n  matchPathname,\n  resolvePath,\n  trimPath,\n} from './path'\nimport { AnyRoute, createRoute, Route } from './route'\nimport {\n  AnyLoaderData,\n  AnyPathParams,\n  AnyRouteConfig,\n  AnySearchSchema,\n  LoaderContext,\n  RouteConfig,\n  SearchFilter,\n} from './routeConfig'\nimport {\n  AllRouteInfo,\n  AnyAllRouteInfo,\n  AnyRouteInfo,\n  RouteInfo,\n  RoutesById,\n} from './routeInfo'\nimport { createRouteMatch, RouteMatch, RouteMatchStore } from './routeMatch'\nimport { defaultParseSearch, defaultStringifySearch } from './searchParams'\nimport { createStore, batch, SetStoreFunction } from '@solidjs/reactivity'\nimport {\n  functionalUpdate,\n  last,\n  NoInfer,\n  pick,\n  PickAsRequired,\n  PickRequired,\n  Timeout,\n  Updater,\n} from './utils'\nimport { sharedClone } from './sharedClone'\n\nexport interface RegisterRouter {\n  // router: Router\n}\n\nexport type RegisteredRouter = RegisterRouter extends {\n  router: Router<infer TRouteConfig, infer TAllRouteInfo, infer TRouterContext>\n}\n  ? Router<TRouteConfig, TAllRouteInfo, TRouterContext>\n  : Router\n\nexport type RegisteredAllRouteInfo = RegisterRouter extends {\n  router: Router<infer TRouteConfig, infer TAllRouteInfo, infer TRouterContext>\n}\n  ? TAllRouteInfo\n  : AnyAllRouteInfo\n\nexport interface LocationState {}\n\nexport interface Location<\n  TSearchObj extends AnySearchSchema = {},\n  TState extends LocationState = LocationState,\n> {\n  href: string\n  pathname: string\n  search: TSearchObj\n  searchStr: string\n  state: TState\n  hash: string\n  key?: string\n}\n\nexport interface FromLocation {\n  pathname: string\n  search?: unknown\n  key?: string\n  hash?: string\n}\n\nexport type SearchSerializer = (searchObj: Record<string, any>) => string\nexport type SearchParser = (searchStr: string) => Record<string, any>\nexport type FilterRoutesFn = <TRoute extends Route<any, RouteInfo>>(\n  routeConfigs: TRoute[],\n) => TRoute[]\n\nexport interface RouterOptions<\n  TRouteConfig extends AnyRouteConfig,\n  TRouterContext,\n> {\n  history?: BrowserHistory | MemoryHistory | HashHistory\n  stringifySearch?: SearchSerializer\n  parseSearch?: SearchParser\n  filterRoutes?: FilterRoutesFn\n  defaultPreload?: false | 'intent'\n  defaultPreloadMaxAge?: number\n  defaultPreloadGcMaxAge?: number\n  defaultPreloadDelay?: number\n  defaultComponent?: GetFrameworkGeneric<'Component'>\n  defaultErrorComponent?: GetFrameworkGeneric<'ErrorComponent'>\n  defaultPendingComponent?: GetFrameworkGeneric<'Component'>\n  defaultLoaderMaxAge?: number\n  defaultLoaderGcMaxAge?: number\n  caseSensitive?: boolean\n  routeConfig?: TRouteConfig\n  basepath?: string\n  useServerData?: boolean\n  createRouter?: (router: Router<any, any, any>) => void\n  createRoute?: (opts: {\n    route: AnyRoute\n    router: Router<any, any, any>\n  }) => void\n  context?: TRouterContext\n  loadComponent?: (\n    component: GetFrameworkGeneric<'Component'>,\n  ) => Promise<GetFrameworkGeneric<'Component'>>\n}\n\nexport interface Action<\n  TPayload = unknown,\n  TResponse = unknown,\n  // TError = unknown,\n> {\n  submit: (\n    submission?: TPayload,\n    actionOpts?: { invalidate?: boolean; multi?: boolean },\n  ) => Promise<TResponse>\n  current?: ActionState<TPayload, TResponse>\n  latest?: ActionState<TPayload, TResponse>\n  submissions: ActionState<TPayload, TResponse>[]\n}\n\nexport interface ActionState<\n  TPayload = unknown,\n  TResponse = unknown,\n  // TError = unknown,\n> {\n  submittedAt: number\n  status: 'idle' | 'pending' | 'success' | 'error'\n  submission: TPayload\n  isMulti: boolean\n  data?: TResponse\n  error?: unknown\n}\n\nexport interface Loader<\n  TFullSearchSchema extends AnySearchSchema = {},\n  TAllParams extends AnyPathParams = {},\n  TRouteLoaderData = AnyLoaderData,\n> {\n  fetch: keyof PickRequired<TFullSearchSchema> extends never\n    ? keyof TAllParams extends never\n      ? (loaderContext: { signal?: AbortSignal }) => Promise<TRouteLoaderData>\n      : (loaderContext: {\n          params: TAllParams\n          search?: TFullSearchSchema\n          signal?: AbortSignal\n        }) => Promise<TRouteLoaderData>\n    : keyof TAllParams extends never\n    ? (loaderContext: {\n        search: TFullSearchSchema\n        params: TAllParams\n        signal?: AbortSignal\n      }) => Promise<TRouteLoaderData>\n    : (loaderContext: {\n        search: TFullSearchSchema\n        signal?: AbortSignal\n      }) => Promise<TRouteLoaderData>\n  current?: LoaderState<TFullSearchSchema, TAllParams>\n  latest?: LoaderState<TFullSearchSchema, TAllParams>\n  pending: LoaderState<TFullSearchSchema, TAllParams>[]\n}\n\nexport interface LoaderState<\n  TFullSearchSchema extends AnySearchSchema = {},\n  TAllParams extends AnyPathParams = {},\n> {\n  loadedAt: number\n  loaderContext: LoaderContext<TFullSearchSchema, TAllParams>\n}\n\nexport interface RouterStore<\n  TSearchObj extends AnySearchSchema = {},\n  TState extends LocationState = LocationState,\n> {\n  status: 'idle' | 'loading'\n  latestLocation: Location<TSearchObj, TState>\n  currentMatches: RouteMatch[]\n  currentLocation: Location<TSearchObj, TState>\n  pendingMatches?: RouteMatch[]\n  pendingLocation?: Location<TSearchObj, TState>\n  lastUpdated: number\n  actions: Record<string, Action>\n  loaders: Record<string, Loader>\n  isFetching: boolean\n  isPreloading: boolean\n  matchCache: Record<string, MatchCacheEntry>\n}\n\ntype Listener = (router: Router<any, any, any>) => void\n\nexport type ListenerFn = () => void\n\nexport interface BuildNextOptions {\n  to?: string | number | null\n  params?: true | Updater<unknown>\n  search?: true | Updater<unknown>\n  hash?: true | Updater<string>\n  state?: LocationState\n  key?: string\n  from?: string\n  fromCurrent?: boolean\n  __preSearchFilters?: SearchFilter<any>[]\n  __postSearchFilters?: SearchFilter<any>[]\n}\n\nexport type MatchCacheEntry = {\n  gc: number\n  match: RouteMatch\n}\n\nexport interface MatchLocation {\n  to?: string | number | null\n  fuzzy?: boolean\n  caseSensitive?: boolean\n  from?: string\n  fromCurrent?: boolean\n}\n\nexport interface MatchRouteOptions {\n  pending?: boolean\n  caseSensitive?: boolean\n  fuzzy?: boolean\n}\n\ntype LinkCurrentTargetElement = {\n  preloadTimeout?: null | ReturnType<typeof setTimeout>\n}\n\nexport interface DehydratedRouterState\n  extends Pick<\n    RouterStore,\n    'status' | 'latestLocation' | 'currentLocation' | 'lastUpdated'\n  > {\n  currentMatches: DehydratedRouteMatch[]\n}\n\nexport interface DehydratedRouter<TRouterContext = unknown> {\n  // location: Router['__location']\n  store: DehydratedRouterState\n  context: TRouterContext\n}\n\nexport type MatchCache = Record<string, MatchCacheEntry>\n\ninterface DehydratedRouteMatch {\n  matchId: string\n  store: Pick<\n    RouteMatchStore<any, any>,\n    'status' | 'routeLoaderData' | 'isInvalid' | 'invalidAt'\n  >\n}\n\nexport interface RouterContext {}\n\nexport interface Router<\n  TRouteConfig extends AnyRouteConfig = RouteConfig,\n  TAllRouteInfo extends AnyAllRouteInfo = AllRouteInfo<TRouteConfig>,\n  TRouterContext = unknown,\n> {\n  types: {\n    // Super secret internal stuff\n    RouteConfig: TRouteConfig\n    AllRouteInfo: TAllRouteInfo\n  }\n\n  // Public API\n  history: BrowserHistory | MemoryHistory | HashHistory\n  options: PickAsRequired<\n    RouterOptions<TRouteConfig, TRouterContext>,\n    'stringifySearch' | 'parseSearch' | 'context'\n  >\n  store: RouterStore<TAllRouteInfo['fullSearchSchema']>\n  setStore: SetStoreFunction<RouterStore<TAllRouteInfo['fullSearchSchema']>>\n  basepath: string\n  // __location: Location<TAllRouteInfo['fullSearchSchema']>\n  routeTree: Route<TAllRouteInfo, RouteInfo>\n  routesById: RoutesById<TAllRouteInfo>\n  reset: () => void\n  mount: () => () => void\n  update: <\n    TRouteConfig extends RouteConfig = RouteConfig,\n    TAllRouteInfo extends AnyAllRouteInfo = AllRouteInfo<TRouteConfig>,\n    TRouterContext = unknown,\n  >(\n    opts?: RouterOptions<TRouteConfig, TRouterContext>,\n  ) => Router<TRouteConfig, TAllRouteInfo, TRouterContext>\n\n  buildNext: (opts: BuildNextOptions) => Location\n  cancelMatches: () => void\n  load: (next?: Location) => Promise<void>\n  cleanMatchCache: () => void\n  getRoute: <TId extends keyof TAllRouteInfo['routeInfoById']>(\n    id: TId,\n  ) => Route<TAllRouteInfo, TAllRouteInfo['routeInfoById'][TId]>\n  loadRoute: (navigateOpts: BuildNextOptions) => Promise<RouteMatch[]>\n  preloadRoute: (\n    navigateOpts: BuildNextOptions,\n    loaderOpts: { maxAge?: number; gcMaxAge?: number },\n  ) => Promise<RouteMatch[]>\n  matchRoutes: (\n    pathname: string,\n    opts?: { strictParseParams?: boolean },\n  ) => RouteMatch[]\n  loadMatches: (\n    resolvedMatches: RouteMatch[],\n    loaderOpts?:\n      | { preload: true; maxAge: number; gcMaxAge: number }\n      | { preload?: false; maxAge?: never; gcMaxAge?: never },\n  ) => Promise<void>\n  loadMatchData: (\n    routeMatch: RouteMatch<any, any>,\n  ) => Promise<Record<string, unknown>>\n  invalidateRoute: (opts: MatchLocation) => void\n  reload: () => Promise<void>\n  resolvePath: (from: string, path: string) => string\n  navigate: <\n    TFrom extends ValidFromPath<TAllRouteInfo> = '/',\n    TTo extends string = '.',\n  >(\n    opts: NavigateOptions<TAllRouteInfo, TFrom, TTo>,\n  ) => Promise<void>\n  matchRoute: <\n    TFrom extends ValidFromPath<TAllRouteInfo> = '/',\n    TTo extends string = '.',\n  >(\n    matchLocation: ToOptions<TAllRouteInfo, TFrom, TTo>,\n    opts?: MatchRouteOptions,\n  ) =>\n    | false\n    | TAllRouteInfo['routeInfoById'][ResolveRelativePath<\n        TFrom,\n        NoInfer<TTo>\n      >]['allParams']\n  buildLink: <\n    TFrom extends ValidFromPath<TAllRouteInfo> = '/',\n    TTo extends string = '.',\n  >(\n    opts: LinkOptions<TAllRouteInfo, TFrom, TTo>,\n  ) => LinkInfo\n  dehydrate: () => DehydratedRouter<TRouterContext>\n  hydrate: (dehydratedRouter: DehydratedRouter<TRouterContext>) => void\n}\n\n// Detect if we're in the DOM\nconst isServer =\n  typeof window === 'undefined' || !window.document?.createElement\n\n// This is the default history object if none is defined\nconst createDefaultHistory = () =>\n  isServer ? createMemoryHistory() : createBrowserHistory()\n\nfunction getInitialRouterState(): RouterStore {\n  return {\n    status: 'idle',\n    latestLocation: null!,\n    currentLocation: null!,\n    currentMatches: [],\n    actions: {},\n    loaders: {},\n    lastUpdated: Date.now(),\n    matchCache: {},\n    get isFetching() {\n      return (\n        this.status === 'loading' ||\n        this.currentMatches.some((d) => d.store.isFetching)\n      )\n    },\n    get isPreloading() {\n      return Object.values(this.matchCache).some(\n        (d) =>\n          d.match.store.isFetching &&\n          !this.currentMatches.find((dd) => dd.matchId === d.match.matchId),\n      )\n    },\n  }\n}\n\nexport function createRouter<\n  TRouteConfig extends AnyRouteConfig = RouteConfig,\n  TAllRouteInfo extends AnyAllRouteInfo = AllRouteInfo<TRouteConfig>,\n  TRouterContext = unknown,\n>(\n  userOptions?: RouterOptions<TRouteConfig, TRouterContext>,\n): Router<TRouteConfig, TAllRouteInfo, TRouterContext> {\n  const originalOptions = {\n    defaultLoaderGcMaxAge: 5 * 60 * 1000,\n    defaultLoaderMaxAge: 0,\n    defaultPreloadMaxAge: 2000,\n    defaultPreloadDelay: 50,\n    context: undefined!,\n    ...userOptions,\n    stringifySearch: userOptions?.stringifySearch ?? defaultStringifySearch,\n    parseSearch: userOptions?.parseSearch ?? defaultParseSearch,\n  }\n\n  const [store, setStore] = createStore<RouterStore>(getInitialRouterState())\n\n  let navigateTimeout: undefined | Timeout\n  let nextAction: undefined | 'push' | 'replace'\n  let navigationPromise: undefined | Promise<void>\n\n  let startedLoadingAt = Date.now()\n  let resolveNavigation = () => {}\n\n  function onFocus() {\n    router.load()\n  }\n\n  function buildRouteTree(rootRouteConfig: RouteConfig) {\n    const recurseRoutes = (\n      routeConfigs: RouteConfig[],\n      parent?: Route<TAllRouteInfo, any, any>,\n    ): Route<TAllRouteInfo, any, any>[] => {\n      return routeConfigs.map((routeConfig, i) => {\n        const routeOptions = routeConfig.options\n        const route = createRoute(routeConfig, routeOptions, i, parent, router)\n        const existingRoute = (router.routesById as any)[route.routeId]\n\n        if (existingRoute) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn(\n              `Duplicate routes found with id: ${String(route.routeId)}`,\n              router.routesById,\n              route,\n            )\n          }\n          throw new Error()\n        }\n\n        ;(router.routesById as any)[route.routeId] = route\n\n        const children = routeConfig.children as RouteConfig[]\n\n        route.childRoutes = children?.length\n          ? recurseRoutes(children, route)\n          : undefined\n\n        return route\n      })\n    }\n\n    const routes = recurseRoutes([rootRouteConfig])\n\n    return routes[0]!\n  }\n\n  function parseLocation(\n    location: History['location'],\n    previousLocation?: Location,\n  ): Location {\n    const parsedSearch = router.options.parseSearch(location.search)\n\n    return {\n      pathname: location.pathname,\n      searchStr: location.search,\n      search: sharedClone(previousLocation?.search, parsedSearch),\n      hash: location.hash.split('#').reverse()[0] ?? '',\n      href: `${location.pathname}${location.search}${location.hash}`,\n      state: location.state as LocationState,\n      key: location.key,\n    }\n  }\n\n  function navigate(location: BuildNextOptions & { replace?: boolean }) {\n    const next = router.buildNext(location)\n    return commitLocation(next, location.replace)\n  }\n\n  function buildLocation(dest: BuildNextOptions = {}): Location {\n    const fromPathname = dest.fromCurrent\n      ? store.latestLocation.pathname\n      : dest.from ?? store.latestLocation.pathname\n\n    let pathname = resolvePath(\n      router.basepath ?? '/',\n      fromPathname,\n      `${dest.to ?? '.'}`,\n    )\n\n    const fromMatches = router.matchRoutes(store.latestLocation.pathname, {\n      strictParseParams: true,\n    })\n\n    const toMatches = router.matchRoutes(pathname)\n\n    const prevParams = { ...last(fromMatches)?.params }\n\n    let nextParams =\n      (dest.params ?? true) === true\n        ? prevParams\n        : functionalUpdate(dest.params!, prevParams)\n\n    if (nextParams) {\n      toMatches\n        .map((d) => d.options.stringifyParams)\n        .filter(Boolean)\n        .forEach((fn) => {\n          Object.assign({}, nextParams!, fn!(nextParams!))\n        })\n    }\n\n    pathname = interpolatePath(pathname, nextParams ?? {})\n\n    // Pre filters first\n    const preFilteredSearch = dest.__preSearchFilters?.length\n      ? dest.__preSearchFilters.reduce(\n          (prev, next) => next(prev),\n          store.latestLocation.search,\n        )\n      : store.latestLocation.search\n\n    // Then the link/navigate function\n    const destSearch =\n      dest.search === true\n        ? preFilteredSearch // Preserve resolvedFrom true\n        : dest.search\n        ? functionalUpdate(dest.search, preFilteredSearch) ?? {} // Updater\n        : dest.__preSearchFilters?.length\n        ? preFilteredSearch // Preserve resolvedFrom filters\n        : {}\n\n    // Then post filters\n    const postFilteredSearch = dest.__postSearchFilters?.length\n      ? dest.__postSearchFilters.reduce((prev, next) => next(prev), destSearch)\n      : destSearch\n\n    const search = sharedClone(store.latestLocation.search, postFilteredSearch)\n\n    const searchStr = router.options.stringifySearch(search)\n    let hash =\n      dest.hash === true\n        ? store.latestLocation.hash\n        : functionalUpdate(dest.hash!, store.latestLocation.hash)\n    hash = hash ? `#${hash}` : ''\n\n    return {\n      pathname,\n      search,\n      searchStr,\n      state: store.latestLocation.state,\n      hash,\n      href: `${pathname}${searchStr}${hash}`,\n      key: dest.key,\n    }\n  }\n\n  function commitLocation(next: Location, replace?: boolean): Promise<void> {\n    const id = '' + Date.now() + Math.random()\n\n    if (navigateTimeout) clearTimeout(navigateTimeout)\n\n    let nextAction: 'push' | 'replace' = 'replace'\n\n    if (!replace) {\n      nextAction = 'push'\n    }\n\n    const isSameUrl = parseLocation(router.history.location).href === next.href\n\n    if (isSameUrl && !next.key) {\n      nextAction = 'replace'\n    }\n\n    router.history[nextAction](\n      {\n        pathname: next.pathname,\n        hash: next.hash,\n        search: next.searchStr,\n      },\n      {\n        id,\n        ...next.state,\n      },\n    )\n\n    return (navigationPromise = new Promise((resolve) => {\n      const previousNavigationResolve = resolveNavigation\n\n      resolveNavigation = () => {\n        previousNavigationResolve()\n        resolve()\n      }\n    }))\n  }\n\n  const router: Router<TRouteConfig, TAllRouteInfo, TRouterContext> = {\n    types: undefined!,\n\n    // public api\n    history: userOptions?.history || createDefaultHistory(),\n    store,\n    setStore,\n    options: originalOptions,\n    basepath: '',\n    routeTree: undefined!,\n    routesById: {} as any,\n\n    reset: () => {\n      setStore((s) => Object.assign(s, getInitialRouterState()))\n    },\n\n    getRoute: (id) => {\n      return router.routesById[id]\n    },\n\n    dehydrate: () => {\n      return {\n        store: {\n          ...pick(store, [\n            'latestLocation',\n            'currentLocation',\n            'status',\n            'lastUpdated',\n          ]),\n          currentMatches: store.currentMatches.map((match) => ({\n            matchId: match.matchId,\n            store: pick(match.store, [\n              'status',\n              'routeLoaderData',\n              'isInvalid',\n              'invalidAt',\n            ]),\n          })),\n        },\n        context: router.options.context as TRouterContext,\n      }\n    },\n\n    hydrate: (dehydratedRouter) => {\n      setStore((s) => {\n        // Update the context TODO: make this part of state?\n        router.options.context = dehydratedRouter.context\n\n        // Match the routes\n        const currentMatches = router.matchRoutes(\n          dehydratedRouter.store.latestLocation.pathname,\n          {\n            strictParseParams: true,\n          },\n        )\n\n        currentMatches.forEach((match, index) => {\n          const dehydratedMatch = dehydratedRouter.store.currentMatches[index]\n          invariant(\n            dehydratedMatch && dehydratedMatch.matchId === match.matchId,\n            'Oh no! There was a hydration mismatch when attempting to restore the state of the router! 😬',\n          )\n          Object.assign(match, dehydratedMatch)\n        })\n\n        currentMatches.forEach((match) => match.__.validate())\n\n        Object.assign(s, { ...dehydratedRouter.store, currentMatches })\n      })\n    },\n\n    mount: () => {\n      // Mount only does anything on the client\n      if (!isServer) {\n        // If the router matches are empty, load the matches\n        if (!store.currentMatches.length) {\n          router.load()\n        }\n\n        const unsub = router.history.listen((event) => {\n          router.load(parseLocation(event.location, store.latestLocation))\n        })\n\n        // addEventListener does not exist in React Native, but window does\n        // In the future, we might need to invert control here for more adapters\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n        if (window.addEventListener) {\n          // Listen to visibilitychange and focus\n          window.addEventListener('visibilitychange', onFocus, false)\n          window.addEventListener('focus', onFocus, false)\n        }\n\n        return () => {\n          unsub()\n          if (window.removeEventListener) {\n            // Be sure to unsubscribe if a new handler is set\n            window.removeEventListener('visibilitychange', onFocus)\n            window.removeEventListener('focus', onFocus)\n          }\n        }\n      }\n\n      return () => {}\n    },\n\n    update: (opts) => {\n      const newHistory = opts?.history !== router.history\n      if (!store.latestLocation || newHistory) {\n        if (opts?.history) {\n          router.history = opts.history\n        }\n        setStore((s) => {\n          s.latestLocation = parseLocation(router.history.location)\n          s.currentLocation = s.latestLocation\n        })\n      }\n\n      Object.assign(router.options, opts)\n\n      const { basepath, routeConfig } = router.options\n\n      router.basepath = `/${trimPath(basepath ?? '') ?? ''}`\n\n      if (routeConfig) {\n        router.routesById = {} as any\n        router.routeTree = buildRouteTree(routeConfig)\n      }\n\n      return router as any\n    },\n\n    cancelMatches: () => {\n      ;[...store.currentMatches, ...(store.pendingMatches || [])].forEach(\n        (match) => {\n          match.cancel()\n        },\n      )\n    },\n\n    load: async (next?: Location) => {\n      let now = Date.now()\n      const startedAt = now\n      startedLoadingAt = startedAt\n\n      // Cancel any pending matches\n      router.cancelMatches()\n\n      let matches!: RouteMatch<any, any>[]\n\n      batch(() => {\n        if (next) {\n          // Ingest the new location\n          setStore((s) => {\n            s.latestLocation = next\n          })\n        }\n\n        // Match the routes\n        matches = router.matchRoutes(store.latestLocation.pathname, {\n          strictParseParams: true,\n        })\n\n        console.log('set loading', matches)\n        setStore((s) => {\n          s.status = 'loading'\n          s.pendingMatches = matches\n          s.pendingLocation = store.latestLocation\n        })\n      })\n\n      // Load the matches\n      try {\n        await router.loadMatches(matches)\n      } catch (err: any) {\n        console.log(err)\n        invariant(\n          false,\n          'Matches failed to load due to error above ☝️. Navigation cancelled!',\n        )\n      }\n\n      if (startedLoadingAt !== startedAt) {\n        // Ignore side-effects of outdated side-effects\n        return navigationPromise\n      }\n\n      const previousMatches = store.currentMatches\n\n      const exiting: RouteMatch[] = [],\n        staying: RouteMatch[] = []\n\n      previousMatches.forEach((d) => {\n        if (matches.find((dd) => dd.matchId === d.matchId)) {\n          staying.push(d)\n        } else {\n          exiting.push(d)\n        }\n      })\n\n      const entering = matches.filter((d) => {\n        return !previousMatches.find((dd) => dd.matchId === d.matchId)\n      })\n\n      now = Date.now()\n\n      exiting.forEach((d) => {\n        d.__.onExit?.({\n          params: d.params,\n          search: d.store.routeSearch,\n        })\n\n        // Clear idle error states when match leaves\n        if (d.store.status === 'error' && !d.store.isFetching) {\n          d.store.status = 'idle'\n          d.store.error = undefined\n        }\n\n        const gc = Math.max(\n          d.options.loaderGcMaxAge ?? router.options.defaultLoaderGcMaxAge ?? 0,\n          d.options.loaderMaxAge ?? router.options.defaultLoaderMaxAge ?? 0,\n        )\n\n        if (gc > 0) {\n          store.matchCache[d.matchId] = {\n            gc: gc == Infinity ? Number.MAX_SAFE_INTEGER : now + gc,\n            match: d,\n          }\n        }\n      })\n\n      staying.forEach((d) => {\n        d.options.onTransition?.({\n          params: d.params,\n          search: d.store.routeSearch,\n        })\n      })\n\n      entering.forEach((d) => {\n        d.__.onExit = d.options.onLoaded?.({\n          params: d.params,\n          search: d.store.search,\n        })\n        delete store.matchCache[d.matchId]\n      })\n\n      if (startedLoadingAt !== startedAt) {\n        // Ignore side-effects of match loading\n        return\n      }\n\n      matches.forEach((match) => {\n        // Clear actions\n        if (match.action) {\n          // TODO: Check reactivity here\n          match.action.current = undefined\n          match.action.submissions = []\n        }\n      })\n\n      setStore((s) => {\n        console.log('set', matches)\n        Object.assign(s, {\n          status: 'idle',\n          currentLocation: store.latestLocation,\n          currentMatches: matches,\n          pendingLocation: undefined,\n          pendingMatches: undefined,\n        })\n      })\n\n      resolveNavigation()\n    },\n\n    cleanMatchCache: () => {\n      const now = Date.now()\n\n      setStore((s) => {\n        Object.keys(s.matchCache).forEach((matchId) => {\n          const entry = s.matchCache[matchId]!\n\n          // Don't remove loading matches\n          if (entry.match.store.status === 'loading') {\n            return\n          }\n\n          // Do not remove successful matches that are still valid\n          if (entry.gc > 0 && entry.gc > now) {\n            return\n          }\n\n          // Everything else gets removed\n          delete s.matchCache[matchId]\n        })\n      })\n    },\n\n    loadRoute: async (navigateOpts = store.latestLocation) => {\n      const next = router.buildNext(navigateOpts)\n      const matches = router.matchRoutes(next.pathname, {\n        strictParseParams: true,\n      })\n      await router.loadMatches(matches)\n      return matches\n    },\n\n    preloadRoute: async (navigateOpts = store.latestLocation, loaderOpts) => {\n      const next = router.buildNext(navigateOpts)\n      const matches = router.matchRoutes(next.pathname, {\n        strictParseParams: true,\n      })\n\n      await router.loadMatches(matches, {\n        preload: true,\n        maxAge:\n          loaderOpts.maxAge ??\n          router.options.defaultPreloadMaxAge ??\n          router.options.defaultLoaderMaxAge ??\n          0,\n        gcMaxAge:\n          loaderOpts.gcMaxAge ??\n          router.options.defaultPreloadGcMaxAge ??\n          router.options.defaultLoaderGcMaxAge ??\n          0,\n      })\n      return matches\n    },\n\n    matchRoutes: (pathname, opts) => {\n      router.cleanMatchCache()\n\n      const matches: RouteMatch[] = []\n\n      if (!router.routeTree) {\n        return matches\n      }\n\n      const existingMatches = [\n        ...store.currentMatches,\n        ...(store.pendingMatches ?? []),\n      ]\n\n      const recurse = async (routes: Route<any, any>[]): Promise<void> => {\n        const parentMatch = last(matches)\n        let params = parentMatch?.params ?? {}\n\n        const filteredRoutes = router.options.filterRoutes?.(routes) ?? routes\n\n        let foundRoutes: Route[] = []\n\n        const findMatchInRoutes = (parentRoutes: Route[], routes: Route[]) => {\n          routes.some((route) => {\n            if (!route.routePath && route.childRoutes?.length) {\n              return findMatchInRoutes(\n                [...foundRoutes, route],\n                route.childRoutes,\n              )\n            }\n\n            const fuzzy = !!(\n              route.routePath !== '/' || route.childRoutes?.length\n            )\n\n            const matchParams = matchPathname(router.basepath, pathname, {\n              to: route.fullPath,\n              fuzzy,\n              caseSensitive:\n                route.options.caseSensitive ?? router.options.caseSensitive,\n            })\n\n            if (matchParams) {\n              let parsedParams\n\n              try {\n                parsedParams =\n                  route.options.parseParams?.(matchParams!) ?? matchParams\n              } catch (err) {\n                if (opts?.strictParseParams) {\n                  throw err\n                }\n              }\n\n              params = {\n                ...params,\n                ...parsedParams,\n              }\n            }\n\n            if (!!matchParams) {\n              foundRoutes = [...parentRoutes, route]\n            }\n\n            return !!foundRoutes.length\n          })\n\n          return !!foundRoutes.length\n        }\n\n        findMatchInRoutes([], filteredRoutes)\n\n        if (!foundRoutes.length) {\n          return\n        }\n\n        foundRoutes.forEach((foundRoute) => {\n          const interpolatedPath = interpolatePath(foundRoute.routePath, params)\n          const matchId = interpolatePath(foundRoute.routeId, params, true)\n\n          const match =\n            existingMatches.find((d) => d.matchId === matchId) ||\n            store.matchCache[matchId]?.match ||\n            createRouteMatch(router, foundRoute, {\n              parentMatch,\n              matchId,\n              params,\n              pathname: joinPaths([router.basepath, interpolatedPath]),\n            })\n\n          matches.push(match)\n        })\n\n        const foundRoute = last(foundRoutes)!\n\n        if (foundRoute.childRoutes?.length) {\n          recurse(foundRoute.childRoutes)\n        }\n      }\n\n      recurse([router.routeTree])\n\n      linkMatches(matches)\n\n      return matches\n    },\n\n    loadMatches: async (resolvedMatches, loaderOpts) => {\n      resolvedMatches.forEach(async (match) => {\n        // Validate the match (loads search params etc)\n        match.__.validate()\n      })\n\n      // Check each match middleware to see if the route can be accessed\n      await Promise.all(\n        resolvedMatches.map(async (match) => {\n          try {\n            await match.options.beforeLoad?.({\n              router: router as any,\n              match,\n            })\n          } catch (err) {\n            if (!loaderOpts?.preload) {\n              match.options.onLoadError?.(err)\n            }\n\n            throw err\n          }\n        }),\n      )\n\n      const matchPromises = resolvedMatches.map(async (match) => {\n        const search = match.store.search as { __data?: any }\n\n        if (search.__data?.matchId && search.__data.matchId !== match.matchId) {\n          return\n        }\n\n        match.load(loaderOpts)\n\n        if (match.store.status !== 'success' && match.__.loadPromise) {\n          // Wait for the first sign of activity from the match\n          await match.__.loadPromise\n        }\n      })\n\n      await Promise.all(matchPromises)\n    },\n\n    loadMatchData: async (routeMatch) => {\n      if (isServer || !router.options.useServerData) {\n        return (\n          (await routeMatch.options.loader?.({\n            // parentLoaderPromise: routeMatch.parentMatch?.__.dataPromise,\n            params: routeMatch.params,\n            search: routeMatch.store.routeSearch,\n            signal: routeMatch.__.abortController.signal,\n          })) || {}\n        )\n      } else {\n        const next = router.buildNext({\n          to: '.',\n          search: (d: any) => ({\n            ...(d ?? {}),\n            __data: {\n              matchId: routeMatch.matchId,\n            },\n          }),\n        })\n\n        // Refresh:\n        // '/dashboard'\n        // '/dashboard/invoices/'\n        // '/dashboard/invoices/123'\n\n        // New:\n        // '/dashboard/invoices/456'\n\n        // TODO: batch requests when possible\n\n        const res = await fetch(next.href, {\n          method: 'GET',\n          // signal: routeMatch.__.abortController.signal,\n        })\n\n        if (res.ok) {\n          return res.json()\n        }\n\n        throw new Error('Failed to fetch match data')\n      }\n    },\n\n    invalidateRoute: (opts: MatchLocation) => {\n      const next = router.buildNext(opts)\n      const unloadedMatchIds = router\n        .matchRoutes(next.pathname)\n        .map((d) => d.matchId)\n      ;[...store.currentMatches, ...(store.pendingMatches ?? [])].forEach(\n        (match) => {\n          if (unloadedMatchIds.includes(match.matchId)) {\n            match.invalidate()\n          }\n        },\n      )\n    },\n\n    reload: () =>\n      navigate({\n        fromCurrent: true,\n        replace: true,\n        search: true,\n      }),\n\n    resolvePath: (from: string, path: string) => {\n      return resolvePath(router.basepath!, from, cleanPath(path))\n    },\n\n    matchRoute: (location, opts) => {\n      // const location = router.buildNext(opts)\n\n      location = {\n        ...location,\n        to: location.to\n          ? router.resolvePath(location.from ?? '', location.to)\n          : undefined,\n      }\n\n      const next = router.buildNext(location)\n\n      if (opts?.pending) {\n        if (!store.pendingLocation) {\n          return false\n        }\n\n        return !!matchPathname(\n          router.basepath,\n          store.pendingLocation.pathname,\n          {\n            ...opts,\n            to: next.pathname,\n          },\n        )\n      }\n\n      return matchPathname(router.basepath, store.currentLocation.pathname, {\n        ...opts,\n        to: next.pathname,\n      }) as any\n    },\n\n    navigate: async ({ from, to = '.', search, hash, replace, params }) => {\n      // If this link simply reloads the current route,\n      // make sure it has a new key so it will trigger a data refresh\n\n      // If this `to` is a valid external URL, return\n      // null for LinkUtils\n      const toString = String(to)\n      const fromString = String(from)\n\n      let isExternal\n\n      try {\n        new URL(`${toString}`)\n        isExternal = true\n      } catch (e) {}\n\n      invariant(\n        !isExternal,\n        'Attempting to navigate to external url with router.navigate!',\n      )\n\n      return navigate({\n        from: fromString,\n        to: toString,\n        search,\n        hash,\n        replace,\n        params,\n      })\n    },\n\n    buildLink: ({\n      from,\n      to = '.',\n      search,\n      params,\n      hash,\n      target,\n      replace,\n      activeOptions,\n      preload,\n      preloadMaxAge: userPreloadMaxAge,\n      preloadGcMaxAge: userPreloadGcMaxAge,\n      preloadDelay: userPreloadDelay,\n      disabled,\n    }) => {\n      // If this link simply reloads the current route,\n      // make sure it has a new key so it will trigger a data refresh\n\n      // If this `to` is a valid external URL, return\n      // null for LinkUtils\n\n      try {\n        new URL(`${to}`)\n        return {\n          type: 'external',\n          href: to,\n        }\n      } catch (e) {}\n\n      const nextOpts = {\n        from,\n        to,\n        search,\n        params,\n        hash,\n        replace,\n      }\n\n      const next = router.buildNext(nextOpts)\n\n      preload = preload ?? router.options.defaultPreload\n      const preloadDelay =\n        userPreloadDelay ?? router.options.defaultPreloadDelay ?? 0\n\n      // Compare path/hash for matches\n      const pathIsEqual = store.currentLocation.pathname === next.pathname\n      const currentPathSplit = store.currentLocation.pathname.split('/')\n      const nextPathSplit = next.pathname.split('/')\n      const pathIsFuzzyEqual = nextPathSplit.every(\n        (d, i) => d === currentPathSplit[i],\n      )\n      const hashIsEqual = store.currentLocation.hash === next.hash\n      // Combine the matches based on user options\n      const pathTest = activeOptions?.exact ? pathIsEqual : pathIsFuzzyEqual\n      const hashTest = activeOptions?.includeHash ? hashIsEqual : true\n\n      // The final \"active\" test\n      const isActive = pathTest && hashTest\n\n      // The click handler\n      const handleClick = (e: MouseEvent) => {\n        if (\n          !disabled &&\n          !isCtrlEvent(e) &&\n          !e.defaultPrevented &&\n          (!target || target === '_self') &&\n          e.button === 0\n        ) {\n          e.preventDefault()\n          if (pathIsEqual && !search && !hash) {\n            router.invalidateRoute(nextOpts)\n          }\n\n          // All is well? Navigate!\n          navigate(nextOpts)\n        }\n      }\n\n      // The click handler\n      const handleFocus = (e: MouseEvent) => {\n        if (preload) {\n          router\n            .preloadRoute(nextOpts, {\n              maxAge: userPreloadMaxAge,\n              gcMaxAge: userPreloadGcMaxAge,\n            })\n            .catch((err) => {\n              console.log(err)\n              console.warn('Error preloading route! ☝️')\n            })\n        }\n      }\n\n      const handleEnter = (e: MouseEvent) => {\n        const target = (e.target || {}) as LinkCurrentTargetElement\n\n        if (preload) {\n          if (target.preloadTimeout) {\n            return\n          }\n\n          target.preloadTimeout = setTimeout(() => {\n            target.preloadTimeout = null\n            router\n              .preloadRoute(nextOpts, {\n                maxAge: userPreloadMaxAge,\n                gcMaxAge: userPreloadGcMaxAge,\n              })\n              .catch((err) => {\n                console.log(err)\n                console.warn('Error preloading route! ☝️')\n              })\n          }, preloadDelay)\n        }\n      }\n\n      const handleLeave = (e: MouseEvent) => {\n        const target = (e.target || {}) as LinkCurrentTargetElement\n\n        if (target.preloadTimeout) {\n          clearTimeout(target.preloadTimeout)\n          target.preloadTimeout = null\n        }\n      }\n\n      return {\n        type: 'internal',\n        next,\n        handleFocus,\n        handleClick,\n        handleEnter,\n        handleLeave,\n        isActive,\n        disabled,\n      }\n    },\n    buildNext: (opts: BuildNextOptions) => {\n      const next = buildLocation(opts)\n\n      const matches = router.matchRoutes(next.pathname)\n\n      const __preSearchFilters = matches\n        .map((match) => match.options.preSearchFilters ?? [])\n        .flat()\n        .filter(Boolean)\n\n      const __postSearchFilters = matches\n        .map((match) => match.options.postSearchFilters ?? [])\n        .flat()\n        .filter(Boolean)\n\n      return buildLocation({\n        ...opts,\n        __preSearchFilters,\n        __postSearchFilters,\n      })\n    },\n  }\n\n  router.update(userOptions)\n\n  // Allow frameworks to hook into the router creation\n  router.options.createRouter?.(router)\n\n  return router\n}\n\nfunction isCtrlEvent(e: MouseEvent) {\n  return !!(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey)\n}\n\nfunction linkMatches(matches: RouteMatch<any, any>[]) {\n  matches.forEach((match, index) => {\n    const parent = matches[index - 1]\n\n    if (parent) {\n      match.__.setParentMatch(parent)\n    } else {\n      match.__.setParentMatch(undefined)\n    }\n  })\n}\n"],"names":["warning","last","arr","length","cond","message","console","warn","Error","isFunction","d","functionalUpdate","updater","previous","pick","parent","keys","reduce","obj","key","joinPaths","paths","cleanPath","filter","Boolean","join","path","replace","trimPathLeft","trimPathRight","trimPath","resolvePath","basepath","base","to","RegExp","baseSegments","parsePathname","toSegments","forEach","toSegment","index","value","push","pop","joined","map","pathname","segments","slice","substring","type","split","part","startsWith","charAt","interpolatePath","params","leaveWildcard","interpolatedPathSegments","segment","matchPathname","currentPathname","matchLocation","pathParams","matchByPath","from","undefined","routeSegments","isMatch","i","Math","max","baseSegment","routeSegment","isLastRouteSegment","isLastBaseSegment","caseSensitive","toLowerCase","fuzzy","encode","pfx","k","tmp","str","Array","isArray","encodeURIComponent","toValue","mix","decodeURIComponent","decode","out","shift","concat","createRoute","routeConfig","options","originalIndex","router","id","routeId","routePath","fullPath","route","routeInfo","routeRouteId","childRoutes","parentRoute","action","store","actions","setStore","s","submissions","submit","submission","actionOpts","invalidate","actionStore","setActionStore","createStore","submittedAt","Date","now","status","isMulti","multi","current","latest","res","data","invalidateRoute","fromCurrent","reload","err","error","loader","loaders","pending","fetch","loaderContext","loaderState","loadedAt","rootRouteId","createRouteConfig","children","isRoot","parentId","parentPath","addChildren","childOptions","generate","invariant","sharedClone","prev","next","touchAll","things","Map","recurse","has","get","prevIsArray","nextIsArray","prevIsObj","isPlainObject","nextIsObj","isObj","isSameStructure","aSize","Object","bItems","bSize","copy","equalItems","set","nextKeys","o","hasObjectPrototype","ctor","constructor","prot","prototype","hasOwnProperty","toString","call","componentTypes","createRouteMatch","opts","componentsPromise","dataPromise","latestId","resolve","setLoaderData","loaderData","batch","routeLoaderData","updateLoaderData","parentMatch","routeSearch","search","isFetching","invalid","invalidAt","Infinity","isInvalid","routeMatch","childMatches","__","setParentMatch","abortController","AbortController","validate","parentSearch","currentLocation","prevSearch","validator","validateSearch","parse","nextSearch","component","cause","code","cancel","abort","hasLoaders","some","preload","load","loaderOpts","minMaxAge","maxAge","gcMaxAge","currentMatches","find","matchId","matchCache","gc","match","loadId","random","checkLatest","Promise","loadPromise","r","all","loadComponent","then","loadMatchData","updatedAt","loaderMaxAge","defaultLoaderMaxAge","after","catch","defaultParseSearch","parseSearchWith","JSON","defaultStringifySearch","stringifySearchWith","stringify","parser","searchStr","query","val","isServer","window","document","createElement","createDefaultHistory","createMemoryHistory","createBrowserHistory","getInitialRouterState","latestLocation","lastUpdated","isPreloading","values","dd","createRouter","userOptions","originalOptions","defaultLoaderGcMaxAge","defaultPreloadMaxAge","defaultPreloadDelay","context","stringifySearch","parseSearch","navigationPromise","startedLoadingAt","resolveNavigation","onFocus","buildRouteTree","rootRouteConfig","recurseRoutes","routeConfigs","routeOptions","existingRoute","routesById","String","routes","parseLocation","location","previousLocation","parsedSearch","hash","reverse","href","state","navigate","buildNext","commitLocation","buildLocation","dest","fromPathname","fromMatches","matchRoutes","strictParseParams","toMatches","prevParams","nextParams","stringifyParams","fn","assign","preFilteredSearch","__preSearchFilters","destSearch","postFilteredSearch","__postSearchFilters","nextAction","isSameUrl","history","previousNavigationResolve","types","routeTree","reset","getRoute","dehydrate","hydrate","dehydratedRouter","dehydratedMatch","mount","unsub","listen","event","addEventListener","removeEventListener","update","newHistory","cancelMatches","pendingMatches","startedAt","matches","log","pendingLocation","loadMatches","previousMatches","exiting","staying","entering","onExit","loaderGcMaxAge","Number","MAX_SAFE_INTEGER","onTransition","onLoaded","cleanMatchCache","entry","loadRoute","navigateOpts","preloadRoute","defaultPreloadGcMaxAge","existingMatches","filteredRoutes","filterRoutes","foundRoutes","findMatchInRoutes","parentRoutes","matchParams","parsedParams","parseParams","foundRoute","interpolatedPath","linkMatches","resolvedMatches","beforeLoad","onLoadError","matchPromises","__data","useServerData","signal","method","ok","json","unloadedMatchIds","includes","matchRoute","fromString","isExternal","URL","e","buildLink","target","activeOptions","preloadMaxAge","userPreloadMaxAge","preloadGcMaxAge","userPreloadGcMaxAge","preloadDelay","userPreloadDelay","disabled","nextOpts","defaultPreload","pathIsEqual","currentPathSplit","nextPathSplit","pathIsFuzzyEqual","every","hashIsEqual","pathTest","exact","hashTest","includeHash","isActive","handleClick","isCtrlEvent","defaultPrevented","button","preventDefault","handleFocus","handleEnter","preloadTimeout","setTimeout","handleLeave","clearTimeout","preSearchFilters","flat","postSearchFilters","metaKey","altKey","ctrlKey","shiftKey"],"mappings":"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"}